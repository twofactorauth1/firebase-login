<section ng-show="vm.uiState.openBlogPanel.id !== 'blog'" class="ssb-sidebar-panel-inner-container">

    <header class="ssb-sidebar-panel-header margin-bottom-0">

        <h4 class="ssb-sidebar-sub-heading">

            <i
                ng-if="vm.uiState.navigation.blogPanel.navigationHistory.length > 1"
                class="fa fa-arrow-left"
                ng-click="vm.uiState.navigation.blogPanel.back();">
            </i>

            {{vm.uiState.openBlogPanel.name}}
        </h4>

        <div class="close-panel ti-close"  ng-click="vm.closeBlogPanel()"></div>

    </header>

    <div class="ssb-sidebar-section-panel-loading-background">
        <div class="center"><br><span class="fa fa-spinner fa-spin"></span><br>Loading menu...</div>
    </div>

    <div class="ssb-sidebar-section-panel-scrollable">

        <div
            ng-if="vm.uiState.openBlogPanel.id === 'manage'"
            class="margin-top-10">

            <button ng-click="vm.uiState.navigation.blogPanel.loadPanel({ name: 'Edit Post', id: 'edit' })" class="btn btn-primary">
                <i class="fa fa-plus display-ib"></i> New Post
            </button>

            <h4 class="ssb-sidebar-sub-heading-separator margin-top-10 padding-left-15">Show Posts</h4>

            <ul class="list-unstyled margin-top-20">
                <li
                    ng-repeat="postFilter in vm.state.blog.postFilters track by $index"
                    ng-class="{ 'active-post-filter': postFilter === vm.uiState.activePostFilter }"
                    class="ssb-page-section-settings-item">
                    <div
                        class="ssb-sidebar-item-icon-left display-ib fa"
                        ng-class="{'fa-folder': postFilter === 'all', 'fa-file': postFilter === 'published', 'fa-file-o': postFilter === 'draft', 'fa-star': postFilter === 'featured' }">
                    </div>
                    <div class="checkbox clip-check check-primary checkbox-inline-right">
                        <input
                            id="filter-split-{{$index}}"
                            type="checkbox"
                            ng-model="vm.uiState.activePostFilter"
                            ng-true-value="'{{postFilter}}'"
                        />
                        <label for="filter-split-{{$index}}">
                            {{postFilter}}
                        </label>
                    </div>
                </li>
            </ul>

            <h4 class="ssb-sidebar-sub-heading text-bold padding-left-0">Posts</h4>

            <ul class="ssb-blog-post-list list-unstyled">
                <li ng-repeat="post in vm.state.blog.posts | filter:vm.filter track by $index" class="ssb-media-default">
                    <section
                        ssb-blog-post-card-component
                        post="post"
                        compact-view="true">
                    </section>
                    <section class="ssb-blog-post-list-item">
                        <div class="ssb-blog-post-toggles">
                            <div class="btn-group btn-group-sm" role="group" aria-label="Post Status">

                                <button
                                    type="button"
                                    class="btn btn-default"
                                    tooltip-placement="top"
                                    tooltip-append-to-body="true"
                                    tooltip-html-unsafe="{{post.post_status}}"
                                    ng-click="vm.togglePublished(post)">

                                    <i ng-if="post.post_status === 'PUBLISHED'" class="fa fa-file"></i>
                                    <i ng-if="post.post_status !== 'PUBLISHED'" class="fa fa-file-o"></i>

                                </button>

                                <button
                                    type="button"
                                    class="btn btn-default"
                                    tooltip-placement="top"
                                    tooltip-append-to-body="true"
                                    tooltip-html-unsafe="Toggle Featured"
                                    ng-click="vm.toggleFeatured(post)">

                                    <i ng-if="post.featured" class="fa fa-star"></i>
                                    <i ng-if="!post.featured" class="fa fa-star-o"></i>

                                </button>

                            </div>
                        </div>
                        <div class="ssb-blog-post-action-buttons">
                            <button class="btn btn-default"><i class="fa fa-copy"></i><span class="sr-only">Duplicate</span></button>
                            <button class="btn btn-default"><i class="fa fa-television"></i><span class="sr-only">View</span></button>
                            <button class="btn btn-default"><i class="fa fa-trash"></i><span class="sr-only">Delete</span></button>
                            <button class="btn btn-primary"><i class="fa fa-pencil-square-o"></i><span> Edit</span></button>
                        </div>
                    </section>
                </li>
            </ul>


        </div>

        <div
            ng-if="vm.uiState.openBlogPanel.id === 'edit'">
            <p>content of ... Edit Blog Post</p>
        </div>

    </div>

</section>
