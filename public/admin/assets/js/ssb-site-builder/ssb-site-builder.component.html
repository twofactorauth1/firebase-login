<link ng-if="vm.state.permissions.html" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.12.0/codemirror.min.css">
<style ng-repeat="font in vm.state.customFonts">
    @font-face {
      font-family: "{{font.name}}";
      src: url("https:{{font.url}}");
    }
</style>
<style>
    /*

    TODO:
        - decide on classnames for all hook-able stuff
        - mirror classnames here and in theme stylesheet(s)
        - add the hook classes to all relevant component markup

    */


.ssb-theme-{{vm.state.website.theme.handle}} {
    color: {{vm.state.website.themeOverrides.styles.primaryTextColor}};
    background-color: {{vm.state.page.styles.bodyBackgroundColor || vm.state.website.themeOverrides.styles.bodyBackgroundColor}};
}


.ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout {
    font-family: {{vm.state.website.themeOverrides.defaultFontStack}};
    background-color: {{vm.state.page.styles.bodyBackgroundColor || vm.state.website.themeOverrides.styles.bodyBackgroundColor}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout .ssb-component .element-wrap, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout .ssb-component .footer-container .powered-by {
    font-size: {{vm.state.website.themeOverrides.styles.fontSize}}px;
    font-family: {{vm.state.website.themeOverrides.styles.fontFamily}};
    letter-spacing: {{vm.state.website.themeOverrides.styles.letterSpacing}}px;
    font-weight: {{vm.state.website.themeOverrides.styles.fontWeight}};
}
.ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout .ssb-component .element-wrap .ssb-element-button{
    font-size: {{vm.state.website.themeOverrides.styles.fontSize}}px !important;
    font-family: {{vm.state.website.themeOverrides.styles.fontFamily}};
    letter-spacing: {{vm.state.website.themeOverrides.styles.letterSpacing}}px;
    font-weight: {{vm.state.website.themeOverrides.styles.fontWeight}};
}
.ssb-theme-{{vm.state.website.theme.handle}} .ssb-navigation a {
    color: {{vm.state.website.themeOverrides.styles.primaryTextColor}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-page-section-layout-header {
    background-color: {{vm.state.page.styles.headerBackgroundColor || vm.state.website.themeOverrides.styles.headerBackgroundColor}};
    color: {{vm.state.website.themeOverrides.styles.headerTextColor}};
}



.ssb-theme-{{vm.state.website.theme.handle}} .ssb-page-section-layout-header [ssb-text-component] {
    /*color: {{vm.state.website.themeOverrides.styles.headerTextColor}};*/
    /*font-size: {{vm.state.website.themeOverrides.styles.headerSize}};*/
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-page-section-layout-hero,.ssb-theme-{{vm.state.website.theme.handle}} .ssb-page-section-nav-hero {
    background-color: {{vm.state.website.themeOverrides.styles.heroBackgroundColor}};
    color: {{vm.state.website.themeOverrides.styles.heroTextColor}};
    text-align: center;
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-heading-text {
    font-size: {{vm.state.website.themeOverrides.styles.headingSize}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-paragraph-text {
    font-size: {{vm.state.website.themeOverrides.styles.paragraphSize}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn:hover , .ssb-theme-{{vm.state.website.theme.handle}} .fr-view span[style~="color:"] a.ssb-theme-btn{
    background-color: {{vm.state.website.themeOverrides.styles.primaryBtnBackgroundColor}};
    color: {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};
    border-color: {{vm.state.website.themeOverrides.styles.primaryBtnBackgroundColor}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn:hover, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn:active, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn:focus {
    background-color: {{vm.state.website.themeOverrides.styles.primaryBtnBackgroundColor}}!important;
}


.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn.btn-link, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn.btn-link:hover {
    background-color: transparent;
    border-color: transparent;
    color: {{vm.state.website.themeOverrides.styles.primaryBtnBackgroundColor}};
}

.ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn.btn-link:hover, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn.btn-link:active, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-btn.btn-link:focus {
    background-color: transparent;
}

.ssb-theme-young-soul .navbar-toggle .icon-bar {
    /*background-color: {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};*/
}


.ssb-theme-btn.ssb-theme-btn-style-11{
    color: {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};
    border: 1px solid {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};
}

.ssb-theme-btn.ssb-theme-btn-style-12{
    color: {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};
    border: 1px solid {{vm.state.website.themeOverrides.styles.primaryBtnTextColor}};
}


.ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout [testimonials-component] .slick-dots li button:before, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout [image-gallery-component] .slick-dots li button:before, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout .ssb-blog-featured-slider .slick-dots li button:before {
    color: {{vm.state.website.themeOverrides.styles.primarySliderDotColor}};
    opacity: {{vm.state.website.themeOverrides.styles.primarySliderDotColorOpacity}};
}


.ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout [testimonials-component] .slick-dots li.slick-active button:before, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout [image-gallery-component] .slick-dots li.slick-active button:before, .ssb-theme-{{vm.state.website.theme.handle}} .ssb-section-layout .ssb-blog-featured-slider .slick-dots li.slick-active button:before {
    color: {{vm.state.website.themeOverrides.styles.primarySliderActiveDotColor}};
}



.ssb-theme-btn.btnLaunchCart, .ssb-theme-btn.btnLaunchCart:hover {
    background-color: {{vm.state.website.themeOverrides.styles.checkoutBtnBgColor}}!important;
    color: {{vm.state.website.themeOverrides.styles.checkoutBtnTextColor}}!important;
    border-color: {{vm.state.website.themeOverrides.styles.checkoutBtnBgColor}}!important;
}

.ssb-theme-btn.btnLaunchCart:hover, .ssb-theme-btn.btnLaunchCart:active, .ssb-theme-btn.btnLaunchCart:focus {
    background-color: {{vm.state.website.themeOverrides.styles.checkoutBtnBgColor}}!important;
}

.ssb-page-layout-row-2-col .ssb-section-layout , .ssb-page-blog-list .ssb-page-layout-row-2-col>div.col-xs-12 {
    background-color: {{vm.state.website.settings.defaultBlogTemplateBgColor}};
}

@media screen and (min-width: 768px) {

    .ssb-theme-{{vm.state.website.theme.handle}} .ssb-page-section-layout-header [ssb-text-component] {
        font-size: {{vm.state.website.themeOverrides.styles.headerSize}};
    } 
    .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-heading-text {
        font-size: {{vm.state.website.themeOverrides.styles.headingSize}};
    }

    .ssb-theme-{{vm.state.website.theme.handle}} .ssb-theme-paragraph-text {
        font-size: {{vm.state.website.themeOverrides.styles.paragraphSize}};
    }

    .ssb-page-layout-row-2-col,.ssb-layout__header_2-col_footer .ssb-page-layout-row-footer.ssb-page-layout-row {
        max-width: {{vm.state.website.settings.defaultBlogTemplateWidth}}!important;
    }
}



</style>

<style ng-if="vm.uiState.showSectionPanel">
.ssb-edit-control {
    display: none!important;
}
</style>
<span ng-bind-html="vm.state.customCss"></span>
<!-- <div data-ng-include data-src=" 'assets/js/ssb-site-builder/ssb-site-builder.editor.styles.html' "></div> -->
<div class="ssb-edit-mode" ng-class="{ 'ssb-page-blog-list': vm.state.page.handle === 'blog-list' || vm.state.page.isBlogCopy, 'ssb-page-blog-post': vm.state.page.handle === 'blog-post', 'ssb-blog-edit-mode': vm.uiState.isBlogEditMode, 'ssb-blog-edit-writing-mode': vm.uiState.isBlogEditWritingMode }"   >
    <indig-navprompt class="indig-navprompt" my-state="app.website.ssbSiteBuilder.editor" reset-dirty="vm.resetDirty()" check-if-dirty="vm.checkIfDirty()" save-page="vm.savePage()" save-page-check="!vm.state.saveLoading"></indig-navprompt>
    <div class="loading-editor" ct-fullheight="window" data-ct-fullheight-exclusion="header" ng-hide="vm.uiState.loaded">
        <div class="col-xs-12">
            <h1 class="center"><span class="fa fa-spinner fa-spin"></span><br><br>
             Hang tight, we're loading your page...
            </h1>
        </div>
    </div>

    <div id="ssb-main" class="ssb-main custom-fonts ssb-theme-{{vm.state.website.theme.name | slugify}}" ng-class="{ 'ssb-main-full-width': !vm.uiState.show.sidebar, 'ssb-blog-hide-social-share': vm.uiState.hideSocialShare }" data-eq-pts="small: 400, medium: 768, large: 1240" ng-hide="!vm.uiState.loaded" >


        <div id="componentloader"  ng-click="UtilService.flyoverhideonclick()"  >


            <ul ng-if="vm.state.page && !vm.state.page.sections.length && vm.uiState.loaded" class="list-unstyled margin-bottom-0">
                <li>
                    <div class="well empty-page center">
                        <h1>This Page is Empty.</h1>
                        <h4>Add some sections and start editing!</h4>
                        <button class="ssb-empty-page-add-btn btn btn-info margin-top-15" ng-click="vm.uiState.openSidebarPanel = 'add'">Add Sections</button>
                    </div>
                    <div class="clearfix mb15"></div>
                </li>
            </ul>

            <div
                class="sortable-page-content"
                ng-sortable="vm.uiState.sortableListPageContentConfig"
                ng-if="vm.state.page.sections.length && (vm.state.page.layout === 'ssb-1-col-layout' || !vm.state.page.layout)"
                ng-class="{'ssb-blog-page': vm.uiState.isBlogPage }"
                >

                <ssb-page-section
                    ng-repeat="section in vm.state.page.sections"
                    section="section"
                    index="$index"
                    clicked-index="{{$index}}"
                    ng-class="{ 'ssb-active-section': $index === vm.uiState.activeSectionIndex }"
                    class="ssb-page-section"
                    state="vm.state"
                    ui-state="vm.uiState"
                    ng-if="vm.uiState.showPageSection(section)">
                </ssb-page-section>

            </div>

            <div
                class="ssb-layout__header_2-col_footer" ng-class="{'ssb-layout__header_2-col_footer-loading': vm.uiState.pageSaving}"
                ng-if="vm.state.page.sections.length && (vm.state.page.layout === 'ssb-layout__header_2-col_footer')">

                <div class="ssb-page-layout-row-header ssb-page-layout-row">
                    <div class="col-xs-12" ng-class="{ 'ssb-empty-layout-area': !vm.state.page.layoutModifiers['header'].length }">
                        <ssb-page-section
                            ng-repeat="sectionIndex in vm.state.page.layoutModifiers['header']"
                            section-layout-name="'header'"
                            section-layout-index="$index"
                            section="vm.state.page.sections[sectionIndex]"
                            index="sectionIndex"
                            ng-class="{ 'ssb-active-section': sectionIndex === vm.uiState.activeSectionIndex }"
                            class="ssb-page-section"
                            state="vm.state"
                            ui-state="vm.uiState"
                            ng-if="vm.state.page.sections[sectionIndex].visibility !== false">
                        </ssb-page-section>
                        <h1 ng-if="!vm.state.page.layoutModifiers['header'].length">Add Sections</h1>
                    </div>
                </div>

                <div class="ssb-page-layout-row-2-col ssb-page-layout-row">
                    <div class="col-xs-12 col-md-8" ng-class="{ 'ssb-empty-layout-area': !vm.state.page.layoutModifiers['2-col-1'].length }">
                        <ssb-page-section
                            ng-repeat="sectionIndex in vm.state.page.layoutModifiers['2-col-1']"
                            section-layout-name="'2-col-1'"
                            section-layout-index="$index"
                            section="vm.state.page.sections[sectionIndex]"
                            index="sectionIndex"
                            ng-class="{ 'ssb-active-section': sectionIndex === vm.uiState.activeSectionIndex }"
                            class="ssb-page-section"
                            state="vm.state"
                            ui-state="vm.uiState"
                            ng-if="vm.state.page.sections[sectionIndex] !== false">
                        </ssb-page-section>
                        <h1 ng-if="!vm.state.page.layoutModifiers['2-col-1'].length">Add Sections</h1>
                    </div>

                    <div class="col-xs-12 col-md-4" ng-class="{ 'ssb-empty-layout-area': !vm.state.page.layoutModifiers['2-col-2'].length }">
                        <ssb-page-section
                            ng-repeat="sectionIndex in vm.state.page.layoutModifiers['2-col-2']"
                            section-layout-name="'2-col-2'"
                            section-layout-index="$index"
                            section="vm.state.page.sections[sectionIndex]"
                            index="sectionIndex"
                            ng-class="{ 'ssb-active-section': sectionIndex === vm.uiState.activeSectionIndex }"
                            class="ssb-page-section"
                            state="vm.state"
                            ui-state="vm.uiState"
                            ng-if="vm.state.page.sections[sectionIndex] !== false">
                        </ssb-page-section>
                        <h1 ng-if="!vm.state.page.layoutModifiers['2-col-2'].length">Add Sections</h1>
                    </div>
                </div>

                <div class="ssb-page-layout-row-footer ssb-page-layout-row">
                    <div class="col-xs-12" ng-class="{ 'ssb-empty-layout-area': !vm.state.page.layoutModifiers['footer'].length }">
                        <ssb-page-section
                            ng-repeat="sectionIndex in vm.state.page.layoutModifiers['footer'] track by $index"
                            section-layout-name="'footer'"
                            section-layout-index="$index"
                            section="vm.state.page.sections[sectionIndex]"
                            index="sectionIndex"
                            ng-class="{ 'ssb-active-section': sectionIndex === vm.uiState.activeSectionIndex }"
                            class="ssb-page-section"
                            state="vm.state"
                            ui-state="vm.uiState"
                            ng-if="vm.state.page.sections[sectionIndex].visibility !== false">
                        </ssb-page-section>
                        <h1 ng-if="!vm.state.page.layoutModifiers['footer'].length">Add Sections</h1>
                    </div>
                </div>

            </div>

        </div>

    </div>

    <ssb-sidebar
        ng-if="vm.state.page"
        class="fade-in-left ssb-sidebar"
        state="vm.state"
        ui-state="vm.uiState"
        ng-class="{ 'ssb-sidebar-show': vm.uiState.show.sidebar, 'ssb-layout__header_2-col_footer': vm.state.page.layout === 'ssb-layout__header_2-col_footer', 'ssb-blog-page': vm.uiState.isBlogPage }">
    </ssb-sidebar>

    <ssb-topbar ng-if="vm.state.page" class="ssb-topbar fade-in-down" state="vm.state" ui-state="vm.uiState"  ng-click="UtilService.flyoverhideonclick()" ></ssb-topbar>

    <div data-ng-include data-src=" 'assets/js/ssb-site-builder/ssb-controls/ssb-add-section-modal/ssb-add-section-modal.component.html' " ></div>
    <div data-ng-include data-src=" 'assets/js/ssb-site-builder/ssb-controls/ssb-page-settings-modal/ssb-page-settings-modal.component.html' " ></div>
    <div data-ng-include data-src=" 'assets/js/ssb-site-builder/ssb-components/social-link/modal.settings.html' " ></div>
    <div data-ng-include data-src=" 'assets/js/ssb-site-builder/ssb-components/contact-us/modal.settings.html' " ></div>
    <div data-ng-include data-src=" 'assets/views/partials/social-links-modal.html' " ></div>
    <div data-ng-include data-src=" 'assets/views/partials/ssb-new-page-modal.html' " ></div>


    <!-- <div id="ssb-froala-scrollable-container"></div> -->
</div>
