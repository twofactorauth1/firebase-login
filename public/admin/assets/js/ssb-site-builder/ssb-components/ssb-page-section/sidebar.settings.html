<div class="col-xs-12">

    <div class="row">
        <div class="form-group col-xs-6 ssb-spectrum-color-picker">
            <!-- <h5 class="ssb-sidebar-settings-heading">Settings</h5> -->

            <spectrum-colorpicker format="'hex'" options="vm.spectrum.options" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].txtcolor"></spectrum-colorpicker>
            <label for="colorpicker">Text <span tooltip-placement="top" tooltip-html-unsafe="Text color of section."><i class="fa fa-info-circle" /></span></label>
        </div>
        <div class="form-group col-xs-6 ssb-spectrum-color-picker">
            <spectrum-colorpicker format="'hex'" options="vm.spectrum.options" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.color"></spectrum-colorpicker>
            <label for="colorpicker">Background <span tooltip-placement="top" tooltip-html-unsafe="Background color of section."><i class="fa fa-info-circle" /></span></label>
        </div>
    </div>

    <div class="row padding-10">
        <label class="padding-bottom-10">
          Section Name:
        </label>
        <span editable-text="vm.state.page.sections[vm.uiState.activeSectionIndex].name" class="pull-right">{{vm.state.page.sections[vm.uiState.activeSectionIndex].name}}</span>
    </div>

    <div class="row">
        <accordion close-others="oneAtATime" class="accordion">
            <accordion-group class="">
                <accordion-heading>
                    Advanced Settings
                    <div ng-hide="!vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-down display-ib"></div>
                    <div ng-hide="vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-up display-ib"></div>
                </accordion-heading>

                <accordion close-others="oneAtATime" class="row accordion">
                    <accordion-group class="">
                        <accordion-heading>
                            Background
                            <div ng-hide="!vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-down display-ib"></div>
                            <div ng-hide="vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-up display-ib"></div>
                        </accordion-heading>

                        <form class="form-horizontal" ng-show="!vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show" ng-hide="isEmail">
                            <div class="row">
                                <div class="col-sm-12">
                                    <label for="bg_color_opacity">Add BG Opacity</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Set Background opacity of section."><i class="fa fa-info-circle" /></span>
                                </div>
                                <div class="col-sm-12">
                                    <rzslider name="bg_color_opacity" class="slider-opacity" rz-slider-precision="2" rz-slider-step="0.1" name="bg-opacity" rz-slider-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.opacity" rz-slider-floor="0" rz-slider-ceil="1"></rzslider>
                                </div>
                            </div>
                        </form>

                        <hr/>

                        <div class="form-group" ng-hide="isEmail">
                            <label for="bg_hide" class="margin-bottom-0">Show Background Image</label>
                            <span tooltip-placement="top" tooltip-html-unsafe="show/hide background image of section."><i class="fa fa-info-circle" /></span>
                            <switch ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show" class="pull-right"></switch>
                            <br>
                            <!-- <small>Please select an image of 1280 x 400px minimum to prevent blurriness</small> -->
                        </div>

                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group add-image" ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show" ng-if="!vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.url">
                                    <div class="btn-wrap">
                                        <input id="abi" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.url" type="button" class="pull-right btn btn-primary" value="Add BG Image" ng-click="vm.addBackground(sectionIndex, null)">
                                    </div>
                                </div>
                                <div class="bgimg" id="bgimg" ng-if="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.url" ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show">
                                    <i class="fa fa-close" ng-click="vm.removeBackgroundImage(vm.state.page.sections[vm.uiState.activeSectionIndex])"></i>
                                    <img ng-src="{{vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.url}}" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.url" ng-click="vm.addBackground(sectionIndex, null)" class="img-thumbnail">
                                </div>
                                <div class="clearfix margin-bottom-10"></div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group" ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show">
                                    <label for="bg_blur">Blur BG</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Add/remove blur effect to background image."><i class="fa fa-info-circle" /></span>
                                    <switch ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.blur" class="pull-right"></switch>
                                </div>
                                <hr ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show"></hr>
                                <div class="form-group" ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show">
                                    <label for="bg_overlay">Add Overlay</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Add/remove Overlay to background image."><i class="fa fa-info-circle" /></span>
                                    <switch ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.overlay" class="pull-right"></switch>
                                </div>
                                <div class="form-group" ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show && vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.overlay">
                                    <label for="bg_overlay_color">Overlay Color</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Add color to Overlay effect."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="rgba" options="vm.spectrum.options" class="pull-right" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.overlaycolor"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <div ng-show="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.overlay && vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.show">
                                    <div class="row">
                                        <div class="col-xs-12">
                                            <label for="bg_overlay_opacity">Overlay Opacity</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Set Overlay opacity."><i class="fa fa-info-circle" /></span>
                                        </div>
                                        <div class="col-xs-12">
                                         <rzslider class="slider-opacity" rz-slider-step="10"  name="bg-opacity" rz-slider-model="vm.state.page.sections[vm.uiState.activeSectionIndex].bg.img.overlayopacity" rz-slider-floor="0" rz-slider-ceil="100"></rzslider>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>

                <accordion close-others="oneAtATime" class="row accordion">
                    <accordion-group class="">
                        <accordion-heading>
                            Layout
                            <div ng-hide="!vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-down display-ib"></div>
                            <div ng-hide="vm.uiState.accordion.sections[sectionIndex].isOpen" class="ssb-sidebar-item-icon ssb-sidebar-move-handle ti-angle-up display-ib"></div>
                        </accordion-heading>

                        <div class="form-group">
                          <div class="radio">
                            <label>
                              <input type="radio" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].layout" value="1-col"/> Stacked
                            </label>
                          </div>
                          <div class="radio">
                            <label>
                              <input type="radio" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].layout" value="2-col"/> 2 Column Grid
                            </label>
                          </div>
                          <div class="radio">
                            <label>
                              <input type="radio" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].layout" value="3-col"/> 3 Column Grid
                            </label>
                          </div>
                        </div>

                        <div class="form-group hidden">
                            <label>Custom Spacing:</label>
                            <span tooltip-placement="top" tooltip-html-unsafe="Use Page Settings for Spacing Settings"><i class="fa fa-info-circle" /></span>
                            <switch ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage" class="pull-right"></switch>
                            <span class="help-block">Spacing will inherit page spacing unless switched on.</span>
                        </div>
                        <div class="form-group">
                            <label>Max Width</label>
                            <ui-select ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.mw" theme="bootstrap" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                <ui-select-match placeholder="Select a Resolution">
                                    <small ng-bind-html="$select.selected"></small>
                                </ui-select-match>
                                <ui-select-choices repeat="res in resolutions | filter: $select.search track by $index">
                                    <small ng-bind-html="res | highlight: $select.search"></small>
                                </ui-select-choices>
                            </ui-select>
                            <label for="ssb-page-section-line-height-input-{{sectionIndex}}">Line Height</label>
                            <input id="ssb-page-section-line-height-input-{{sectionIndex}}" type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.lineHeight" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down">
                        </div>
                        <div class="well margin-bottom-0 partition-light-primary">
                            <label class="text-white lead">Margin</label>
                            <div class="spacing-mt">
                                <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.mt" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                            </div>
                            <div class="col-xs-2">
                                <div class="spacing-ml">
                                    <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.ml" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                    <div class="checkbox clip-check check-primary checkbox-inline">
                                        <input type="checkbox" id="margin-left" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.ml" ng-true-value="'auto'" ng-false-value="'0'" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                        <label for="margin-left" class="text-white">
                                            Auto
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-8">
                                <div class="well partition-dark-primary">
                                    <label class="text-white lead">Padding</label>
                                    <div class="spacing-pt">
                                        <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.pt" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="spacing-pl">
                                            <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.pl" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="spacing-pr">
                                            <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.pr" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                        </div>
                                    </div>
                                    <div class="clearfix margin-bottom-15"></div>
                                    <div class="spacing-pb">
                                        <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.pb" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-2">
                                <div class="spacing-mr">
                                    <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.mr" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                    <div class="checkbox clip-check check-primary checkbox-inline">
                                        <input type="checkbox" id="margin-right" ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.mr" ng-true-value="'auto'" ng-false-value="'0'" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                                        <label class="text-white" for="margin-right">
                                            Auto
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="spacing-mb">
                                <input type="number" string-to-number ng-model="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.mb" min="-500" max="500" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" ng-disabled="vm.state.page.sections[vm.uiState.activeSectionIndex].spacing.usePage">
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </accordion-group>
                </accordion>

            </accordion-group>
        </accordion>
    </div>
</div>
