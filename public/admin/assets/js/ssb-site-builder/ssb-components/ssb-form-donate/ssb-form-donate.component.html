<div class="form-donate-{{vm.component._id}} form-donate-component">

    <div class="col-xs-12 component-body" ng-class="{'default-font-size': vm.component.formSettings.formTextSize}" style="{{vm.formStyle(vm.component.formSettings)}}">

        <div class="inner-page">
            <div data-edit class="row">
                <div class="form-title ssb-theme-heading-text">
                    <div elem ng-model="vm.component.maintitle"></div>
                </div>
                <div class="form-subtitle">
                    <div elem ng-model="vm.component.subtitle"></div>
                </div>
                <div class="form-donate-layout" ng-class="{ 'has-ssb-in-context-info': !vm.product._id }">
                    <div class="form-layout-custom input-fields {{vm.nthRow}}" style="{{vm.inputContainerStyle(vm.component.formSettings)}}">
                        <div ng-if="vm.component.productSettings.goal" class="ssb-form-donate-progress col-sm-12 margin-bottom-20">
                            <h3 class="ssb-form-donate-progress-total" ng-class="{ 'on': vm.total }">{{vm.total | currency:undefined:0}}</h3>
                            <div class="ssb-form-donate-progress-bar">
                                <div class="loading-bar">
                                    <div class="bar" ng-style="{ 'width': vm.completePercentageStyle }">
                                        <div class="peg"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="ssb-form-donate-progress-percentage" ng-class="{ 'on': vm.total }" ng-show='vm.percentage <= 100'>
                                {{vm.percentage}}% raised of ${{vm.component.productSettings.goal}}
                            </div>
                            <div class="ssb-form-donate-progress-percentage" ng-class="{ 'on': vm.total }" ng-show='vm.percentage > 100'>
                                Exceeded by {{vm.percentage - 100}}%
                            </div>
                        </div>
                        <div class="center margin-top-10 col-sm-12">
                            <button ng-disabled="!vm.component.productSettings || !vm.checkDateValidityFn()" ng-if="!vm.isEditing" style="{{vm.buttonStyle(vm.component.btn)}}" ng-class="{'ssb-theme-btn': vm.component.submitBtn}" ng-click='vm.openModalFn()' ng-style="{'background': component.btn.bgcolor, 'color':component.btn.color, 'border-color': component.btn.bgcolor}"
                                class="btn btn-form pull-right btn-block">
                                <span elem ng-model="vm.component.submitBtn" ng-show='vm.checkDateValidityFn()'></span>
                                <span ng-hide='vm.checkDateValidityFn()'>Time span expired</span>
                            </button>
                            <div ng-if="vm.isEditing" style="{{vm.buttonStyle(vm.component.btn)}}" ng-class="{'ssb-theme-btn': vm.component.submitBtn}" ng-style="{'background': component.btn.bgcolor, 'color':component.btn.color, 'border-color': component.btn.bgcolor}" class="btn btn-form btn-default pull-right btn-block inline-block editable-donate-btn-form">
                                <span elem ng-model="vm.component.submitBtn"></span>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div ng-if="!vm.product._id" class="ssb-in-context-info">
                        <span class="fa fa-info-circle"></span>
                        <span>To accept donations, be sure to set up a payment provider and <a ui-sref="app.commerce.products" href>create a donation product</a>.</span>
                    </div>
                </div>

                <div ng-if="vm.product._id" class="donate-social-share">
                    <a class="btn btn-xs btn-twitter"
                           socialshare
                           socialshare-via="indigenous_io"
                           socialshare-text="Home"
                           socialshare-provider="twitter"
                           socialshare-popup-height="400">
                           <span class="fa fa-twitter"></span>
                            Tweet
                    </a>
                    <a class="btn btn-xs btn-facebook" href="javascript:void(0)"
                           socialshare socialshare-url="{{vm.shareUrl}}"
                           socialshare-provider="facebook"
                           socialshare-via="{{vm.facebookClientID}}"
                           socialshare-popup-height="400"
                           socialshare-redirect-uri="https://www.facebook.com/dialog/return/close">
                           <span class="fa fa-facebook"></span> Share
                    </a>
                </div>
            </div>
        </div>

    </div>
    <style>
        .form-donate- {
            {
                vm.component._id
            }
        }

        .form-donate-title {
            color: {
                {
                    vm.component.txtcolor || 'white'
                }
            }
            ;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .component-body.default-font-size * {
            font-size: {
                {
                    vm.component.formSettings.formTextSize
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row2 div:nth-child(2n) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row2 div:nth-child(2n+1) {
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row3 div:nth-child(3n) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row3 div:nth-child(3n+1) {
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row3 div:not(:nth-child(3n)),
        .input-fields.nth-row3 div:not(:nth-child(3n+1)) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row4 div:nth-child(4n) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row4 div:nth-child(4n+1) {
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row4 div:not(:nth-child(4n)),
        .input-fields.nth-row4 div:not(:nth-child(4n+1)) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row5 div:nth-child(5n) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row5 div:nth-child(5n+1) {
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .input-fields.nth-row5 div:not(:nth-child(5n)),
        .input-fields.nth-row5 div:not(:nth-child(5n+1)) {
            padding-left: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
            padding-right: {
                {
                    vm.component.formSettings.spacing.pr/2
                }
            }
            px !important;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        .btn-simple-form:hover,
        .btn-simple-form:active,
        .btn-simple-form:active:focus,
        .btn-simple-form:active:hover {
            color: {
                {
                    vm.component.btn.color
                }
            }
            !important
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        ::-webkit-input-placeholder {
            color: {
                {
                    vm.component.formSettings.inputTextColor
                }
            }
            ;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        :-moz-placeholder {
            color: {
                {
                    vm.component.formSettings.inputTextColor
                }
            }
            ;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        ::-moz-placeholder {
            color: {
                {
                    vm.component.formSettings.inputTextColor
                }
            }
            ;
        }

        .form-donate- {
            {
                vm.component._id
            }
        }

        :-ms-input-placeholder {
            color: {
                {
                    vm.component.formSettings.inputTextColor
                }
            }
            ;
        }
    </style>
</div>
