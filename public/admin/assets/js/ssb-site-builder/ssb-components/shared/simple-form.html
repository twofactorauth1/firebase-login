
<div class="form-group margin-bottom-0">
    <label><strong>Fields to Show:</strong></label>
    <span tooltip-placement="top" tooltip-html-unsafe="What fields would you like to show?"><i class="fa fa-info-circle" /></span>
    <div class="clearfix"></div>
    <div class="ckbox ckbox-success checkbox-inline" ng-repeat="field in component.fields">
        <input type="checkbox" id="chk_{{field.name}}" ng-model="field.value" checked="checked">
        <label for="chk_{{field.name}}">{{field.display}}</label>
    </div>
    <div class="clearfix"></div>
</div>
<div class="form-group customer-tags">
    <label class="block">
        <strong>Add tag to contact</strong>
        <span tooltip-placement="top" tooltip-html-unsafe="Add a contact tag on signup"><i class="fa fa-info-circle" /></span>
    </label>
    <div class="clearfix"></div>
    <ui-select tagging="vm.tagToCustomer" tagging-match-to-key="label" multiple ng-model="component.tags" theme="bootstrap" ng-disabled="disabled">
        <ui-select-match placeholder="Select tags...">{{$item.label}}</ui-select-match>
        <ui-select-choices repeat="tag in vm.customerTags | orderBy:'label' | filter:$select.search">
            {{tag.label}}
        </ui-select-choices>
    </ui-select>
</div>
<div class="well">
    <div class="row">
        <div class="col-sm-12">
            <label class="block">
                <strong>After Signup Event </strong>
                <span tooltip-placement="top" tooltip-html-unsafe="Select the communication you would like intitiated"><i class="fa fa-info-circle" /></span>
            </label>
            <div class="radio radio-inline clip-radio radio-primary">
                <input type="radio" id="radio3" name="vertical" value="true" ng-model="component.sendEmail">
                <label for="radio3">
                    Email
                </label>
            </div>
            <div class="radio radio-inline clip-radio radio-primary">
                <input type="radio" id="radio4" name="vertical" value="false" ng-model="component.sendEmail">
                <label for="radio4">
                    Campaign
                </label>
            </div>
        </div>
    </div>
    <div class="form-group margin-bottom-0" ng-if="component.sendEmail == 'true'">
        <label for="link-page">Select Email</label>
        <span tooltip-placement="top" tooltip-html-unsafe="Template for email"><i class="fa fa-info-circle" /></span>
        <div ng-if="emails">
            <ui-select ng-model="component.emailId" theme="bootstrap">
                <ui-select-match placeholder="Select a email">
                    <small ng-bind-html="$select.selected.title"></small>
                </ui-select-match>
                <ui-select-choices repeat="email._id as email in emails | filter: $select.search track by $index">
                    <small ng-bind-html="email.title | highlight: $select.search"></small>
                </ui-select-choices>
            </ui-select>
        </div>
        <div ng-if="!emailLoaded">
            <h4><span class="fa fa-spinner fa-spin"></span> Loading Emails...</h4>
        </div>
    </div>
    <div class="form-group margin-bottom-0" ng-if="component.sendEmail == 'false'">
        <label for="link-page">Select Autoresponder Campaign</label>
        <span tooltip-placement="top" tooltip-html-unsafe="Campaign Selection"><i class="fa fa-info-circle" /></span>
        <div ng-if="emails">
            <ui-select ng-model="component.campaignId" theme="bootstrap">
                <ui-select-match placeholder="Select a campaign">
                    <small ng-bind-html="$select.selected.name"></small>
                </ui-select-match>
                <ui-select-choices repeat="campaign._id as campaign in campaigns | filter: $select.search | filter:{ type: 'autoresponder' } track by $index">
                    <small ng-bind-html="campaign.name | highlight: $select.search"></small>
                </ui-select-choices>
            </ui-select>
        </div>
        <div ng-if="!emails">
            <h4><span class="fa fa-spinner fa-spin"></span> Loading Campaigns...</h4>
        </div>
    </div>
</div>
<div class="well margin-bottom-0">
    <div class="form-group" ng-class="{'margin-bottom-0': !component.redirect}">
        <label for="redirect"><strong>Redirect:</strong></label>
        <span tooltip-placement="top" tooltip-html-unsafe="Redirect after submission"><i class="fa fa-info-circle" /></span>
        <switch name="redirect" ng-model="component.redirect" class="pull-right"></switch>
    </div>
    <div class="row">
        <div class="col-sm-5 col-xs-12">
            <div class="form-group margin-bottom-0" ng-if="component.redirect">
                <label for="link-title">Redirect To: </label>
                <br>
                <div class="radio-inline" style="margin-bottom: 0px!important">
                    <label for="redirectOptions" class="pull-right">Page</label>
                    <input type="radio" name="redirectOptions" ng-model="component.redirectType" ng-click="component.redirectType='page'" value="page">
                </div>
                <div class="radio-inline" style="margin-bottom: 0px!important">
                    <label for="redirectOptions" class="pull-right">External</label>
                    <input type="radio" name="redirectOptions" ng-model="component.redirectType" ng-click="component.redirectType='external'" value="external">
                </div>
            </div>
        </div>
        <div class="col-sm-7 col-xs-12">
            <div class="form-group margin-bottom-0" ng-if="component.redirect && component.redirectType === 'page'">
                <label for="link-page">Select Page</label>
                <div ng-if="allPages">
                    <ui-select ng-model="component.redirectUrl" theme="bootstrap">
                        <ui-select-match placeholder="Select a page">
                            <small ng-bind-html="$select.selected.title"></small>
                        </ui-select-match>
                        <ui-select-choices repeat="page.handle as page in allPages | filter: $select.search track by $index">
                            <small ng-bind-html="page.title | highlight: $select.search"></small>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div ng-if="!allPages">
                    <h4><span class="fa fa-spinner fa-spin"></span> Loading Pages...</h4>
                </div>
            </div>
            <div class="form-group margin-bottom-0" ng-if="component.redirect && component.redirectType === 'external'">
                <label>External URL:</label>
                <input class="form-control" type="text" ng-model="component.redirectUrl">
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>