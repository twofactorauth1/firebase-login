<div>

    <div class="ssb-location-finder-form">

        <form ng-submit="vm.search()">

            <fieldset ng-disabled="vm.loading">

                <div class="ssb-address-search">

                    <div class="ssb-search-item">
                        <div>
                            <label for="address-input">
                                Address / Zip
                            </label>
                        </div>
                        <input
                            type="text"
                            class="address-input"
                            name="address-input"
                            placeholder=""
                            size="50"
                            value=""
                            ng-model="vm.searchAddress"
                            ng-disabled="vm.loading" />

                        <!-- <div ng-if="vm.geolocationEnabled" class="ssb-location-finder-my-location">
                            <button ng-click="vm.searchMyLocation()" class="btn ssb-theme-btn">Use my current location</button>
                        </div> -->

                    </div>

                    <div class="ssb-search-item">
                        <div>
                            <label for="radius-select-{{vm.component._id}}">
                                Within
                            </label>
                        </div>
                        <select
                            id="radius-select-{{vm.component._id}}"
                            class="radius-select"
                            ng-model="vm.searchRadius"
                            ng-disabled="vm.loading">
                            <option value="5" selected="selected">5 miles</option>
                            <option value="10">10 miles</option>
                            <option value="25">25 miles</option>
                            <option value="50">50 miles</option>
                            <option value="100">100 miles</option>
                            <option value="200">200 miles</option>
                        </select>
                    </div>

                    <div class="ssb-search-item">
                        <input type="submit" class="btn ssb-theme-btn" value="Find Locations" data-loading-text="Loading...">
                    </div>

                </div>

            </fieldset>

        </form>

    </div>

    <div class="ssb-location-finder-map">

        <div id="ssb-map-canvas-{{vm.component._id}}" class="ssb-map-canvas"></div>

    </div>

    <div class="ssb-location-finder-search-results">

        <h3 ng-if="!vm.searchResults.results" class="ssb-theme-heading-text empty">
            Search the map above to see nearby locations.
        </h3>

        <h3 ng-if="vm.searchResults.results" class="ssb-theme-heading-text" ng-class="{ 'empty': vm.searchResults.results === 0 }">
            {{vm.searchResults.count}} nearby locations
        </h3>

        <ul ng-if="vm.searchResults.results">
            <li ng-repeat="result in vm.searchResults.results track by $index">

                <div>
                    <ul class="ssb-location-result-item-list">
                        <li><b>{{result.name}}</b></li>
                        <li>{{result.address}}</li>
                        <li>{{result.address2}}</li>
                        <li>{{result.city}}, {{result.state}} {{result.zip}}</li>
                        <li class="ssb-location-finder-directions-link"><a href="{{vm.getDirectionsLink(result)}}" class="btn ssb-theme-btn" target="_blank">Directions</a>
                    </ul>
                </div>

            </li>
        </ul>

    </div>

</div>
