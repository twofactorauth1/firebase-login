<script type="text/ng-template" id="new-user-modal">

    <div class="modal-header">
        <button type="button" class="close" ng-click="closeModal()">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
        </button>
        <h3 class="modal-title">New User</h3>
    </div>
    <div class="modal-body contact-modal bg-white">
        <form action="#" name="form" role="form" id="form" autocomplete="off">
            <div class="form-group">
                <label class="">Username</label>
                <input name="futureuser" id="input-username" class="form-control" ng-model="$parent.newuser.username" placeholder="Email Address" type="text" autocomplete="false">
            </div>
            <div class="form-group">
                <label class="">Password</label>
                <input name="futureuserpassword" id="input-password" ng-change="checkPasswordLength()" class="form-control" ng-model="$parent.newuser.password" placeholder="Password" type="password" autocomplete="false" autocomplete="new-password">
                <div ng-if="passwordInValid" style="color:red" class="help-block">Min length should be 6 characters</div>
            </div>
            <div class="form-group">
                <label class="block">User Type</label>
                <div class="radio clip-radio radio-primary radio-inline">
                    <input type="radio" id="adminUser" name="user" value="admin" ng-model="vm.state.userType">
                    <label for="adminUser">
                        Admin
                    </label>
                </div>
                <div class="radio clip-radio radio-primary radio-inline">
                    <input type="radio" id="securematicsUser" name="user" value="securematics" ng-model="vm.state.userType">
                    <label for="securematicsUser">
                        Securematics
                    </label>
                </div>
                <div class="radio clip-radio radio-primary radio-inline">
                    <input type="radio" id="varUser" name="user" value="vendor" ng-model="vm.state.userType">
                    <label for="varUser">
                        VAR
                    </label>
                </div>
                <div class="radio clip-radio radio-primary radio-inline">
                    <input type="radio" id="vendorUser" name="user" value="vendor-restricted" ng-model="vm.state.userType">
                    <label for="vendorUser">
                        Vendor
                    </label>
                </div>
            </div>
            <div class="form-group" ng-if="vm.state.userType === 'vendor'">
                <label class="">Card Code(s)</label>
                    <tags-input
                        ng-model="vm.state.cardCodes"
                        add-on-paste="true"
                        placeholder="Add card code(s)"
                        add-on-comma="true"
                        use-strings="true"
                        >
                    </tags-input>
            </div>
            <div class="form-group" ng-if="vm.state.userType === 'vendor-restricted'">
                <label class="">Vendor</label>
                <ui-select ng-model="vm.state.vendorName" theme="bootstrap">
                    <ui-select-match placeholder="Vendor">
                        <small style="text-transform: capitalize;" ng-bind-html="$select.selected"></small>
                    </ui-select-match>
                    <ui-select-choices repeat="vendor in vm.state.vendors | filter: $select.search">
                        <small style="text-transform: capitalize;" ng-bind-html="vendor | highlight: $select.search"></small>
                    </ui-select-choices>
                </ui-select>
            </div> 
        </form>
    </div>
    <div class="clearfix"></div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-disabled="!$parent.newuser.username || !$parent.newuser.password || ($parent.newuser.password.length<6) || !checkIfValidUserName($parent.newuser.username) || !vm.validateUserDetails()" ng-click="addNewUser()">Add New User</button>
    </div>

</script>
