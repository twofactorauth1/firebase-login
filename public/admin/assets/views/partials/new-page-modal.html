<script type="text/ng-template" id="new-page-modal">
    <div class="modal-header">
        <button type="button" class="close" ng-click="closeModal()">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
        </button>
        <h3 class="modal-title"><span ng-if="!templateDetails">Select Template</span><span ng-if="templateDetails">Template Details</span></h3>
    </div>
    <div class="modal-body pages-modal bg-white" ng-class="{'no-padding': !templateDetails}">
        <div ng-hide="templateDetails" style="  max-height: 300px;height: 100%;overflow: auto;">
            <div ng-repeat="template in templates | orderBy:'title'">
                <div class="single-type margin-bottom-15" ng-click="setTemplateDetails(template)">
                    <div class="col-sm-3 col-xs-12">
                        <div class="img-wrap">
                            <a ng-href="{{template.previewUrl}}" title="" data-gallery="">
                                <span style="background: url('{{template.previewUrl}}');background-size: cover;height: 65px;background-position: center;border-radius: 5px;border: 1px solid #e7e7e7;display: block;"></span>
                            </a>
                        </div>
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        <h4>{{template.name}}</h4>
                        <p>{{template.description}}</p>
                    </div>
                    <div class="col-sm-1 hidden-xs">
                        <h1>
                                        <span class="fa fa-chevron-right"></span>
                                    </h1>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="template-details" ng-show="templateDetails">
            <div class="col-xs-5">
                <p>Template Selected</p>
                <h4>{{selectedTemplate.name}}</h4>
                <img src="{{selectedTemplate.previewUrl}}" class="img-thumbnail margin-bottom-10">
            </div>
            <div class="col-xs-7">
                <div class="form-group" ng-class="{ 'has-error': titleError}">
                    <label for="new-page-title" tooltip-placement="bottom" tooltip="Provide the title of the page you want to create">Page Title</label>
                    <input id="new-page-title" class="form-control input-lg" type="text" ng-model="createpage.title" ng-change="slugifyHandle(createpage.title)">
                </div>
                <div class="form-group" ng-class="{ 'has-error': handleError}" ng-show="showChangeURL" ng-if="!createpage.homepage">
                    <slug from="createpage.title" to="createpage.handle"></slug>
                    <label for="new-page-url" class="tooltips" tooltip-placement="bottom" tooltip="Modify the url where your page will be reached">Page Url</label>
                    <input id="new-page-url" class="form-control" type="text" ng-model="createpage.handle" ng-change="slugifyHandle(createpage.handle)">
                </div>
                <p ng-show="createpage.title" ng-if="!createpage.homepage">Page Url will be
                    <strong>/{{createpage.handle}}</strong>
                    <span class="links cl-effect-1">
                                <a href="" ng-click="toggleHandle(true)" ng-show="!showChangeURL">Modify</a>
                            </span>
                    <span class="links cl-effect-1">
                                <a href="" ng-click="toggleHandle(false)" ng-show="showChangeURL">Cancel</a>
                            </span>
                </p>
                <div class="clearfix mb15"></div>
                <div class="form-group" ng-hide="createpage.homepage">
                    <div class="checkbox clip-check check-info checkbox-inline">
                        <input type="checkbox" id="checkbox10" ng-model="createpage.mainmenu" checked>
                        <label for="checkbox10">
                            Add to Main Menu?
                        </label>
                    </div>
                </div>
                <div class="form-group" ng-if="createpage.showhomepage">
                    <div class="checkbox clip-check check-info checkbox-inline">
                        <input type="checkbox" id="checkbox11" ng-change="setHomePage()" ng-model="createpage.homepage" checked>
                        <label for="checkbox11">
                            Create as Home Page?
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="clearfix"></div>
    <div class="modal-footer" ng-show="templateDetails">
        <button class="btn btn-warning btn-o pull-left" ng-click="resetTemplateDetails()">Back</button>
        <button ng-disabled="saveLoading" class="btn btn-primary btn-o" ng-click="createPageFromTemplate(createpage, $event)">Add Page</button>
    </div>
</script>
