<script type="text/ng-template" id="component-settings-modal">
    <div class="modal-header">
        <div class="modal-btns">
            <button type="button" class="close" ng-click="closeModal()">
                <span aria-hidden="true">&times;</span>
                <span class="sr-only">Close</span>
            </button>
            <a aria-hidden="true" class="close" type="button" style="font-size: 24px;line-height: 34px;" ng-mouseenter="hover = true" ng-mouseleave="hover = false"><i class="fa fa-eye" style="font-size: 20px;"></i></a>
        </div>
        <h4 class="modal-title">{{(componentEditing.header_title || '') | htmlToPlaintext}} Settings</h4>
    </div>
    <div class="modal-body no-padding" ng-class="{hidden: hover}">
        <tabset>
            <tab>
                <tab-heading>
                    <span>Basic</span>
                </tab-heading>
                <div class="righstpanelinner">
                    <div class="form-group">
                        <label for="colorpicker">Text Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Text color of component."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="'hex'" options="spectrum.options" ng-model="componentEditing.txtcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                        <label for="colorpicker">Active Text Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Nav bar Active menu color."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.activetxtcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <hr ng-show="!componentEditing.bg.img.show" />
                    <div class="form-group" ng-if="componentEditing.type === 'navigation'">
                        <label>Nav BG Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Background color of navigation bar."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="hex" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.bg" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                        <label for="colorpicker">Nav Hover Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Nav bar menu hover color."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.hover" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                        <label for="colorpicker">Nav Hover BG Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Navigation bar on hover BG color."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.hoverbg" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <div class="form-group" ng-if="componentEditing.type === 'pricing-tables'">
                        <label>Pricing Table BG Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Background color of Pricing table."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="hex" options="spectrum.options" class="pull-right" ng-model="componentEditing.tblbgcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <hr ng-show="componentEditing.type == 'navigation'" />
                    <div class="form-group" ng-hide="componentEditing.bg.img.show ||  (componentEditing.type == 'navigation' && componentEditing.version == 1)">
                        <label for="colorpicker">Background Color:</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Background color of component."><i class="fa fa-info-circle" /></span>
                        <div class="pull-right">
                            <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                            <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.bg.color" ng-change="saveComponent()"></spectrum-colorpicker>
                        </div>
                    </div>
                    <form class="form-horizontal" ng-show="!componentEditing.bg.img.show" ng-hide="componentEditing.type == 'navigation' && componentEditing.version == 1">
                        <div class="row">
                            <div class="col-sm-10">
                                <label class="pull-left">Add BG Opacity</label>
                            </div>
                            <div class="col-sm-2">
                                <select id="bg_opacity" ng-model="componentEditing.bg.opacity" ng-change="saveComponent()" class="pull-right form-control margin-bottom-0">
                                    <option value="" disabled>%</option>
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="30">30</option>
                                    <option value="40">40</option>
                                    <option value="50">50</option>
                                    <option value="60">60</option>
                                    <option value="70">70</option>
                                    <option value="80">80</option>
                                    <option value="90">90</option>
                                    <option value="100">100</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <hr/>
                    <div class="form-group" ng-if="componentEditing.type != 'navigation' && componentEditing.type != 'top-bar'">
                        <label for="bg_hide" class="margin-bottom-0">Show Background Image</label>
                        <span tooltip-placement="top" tooltip-html-unsafe="show/hide background image of component."><i class="fa fa-info-circle" /></span>
                        <switch ng-model="componentEditing.bg.img.show" class="pull-right" ng-change="saveComponent()"></switch>
                        <br>
                        <small>Please select an image of 1280 x 400px minimum to prevent blurriness</small>
                    </div>
                    <div class="form-group" ng-if="componentEditing.type === 'blog' || componentEditing.type === 'blog-teaser'">
                        <label for="post-order">Post Order </label>
                        <span tooltip-placement="top" tooltip-html-unsafe="Post order."><i class="fa fa-info-circle" /></span>
                        <div class="col-sm-6 pull-right">
                            <select class="chosen-select form-control" ng-model="componentEditing.postorder" ng-change="saveComponent(true)">
                                <option value="1">Date modified: oldest to newest</option>
                                <option value="2">Date modified: newest to oldest</option>
                                <option value="3">Date created: oldest to newest</option>
                                <option value="4">Date created: newest to oldest</option>
                                <option value="5">Date Published: oldest to newest</option>
                                <option value="6">Date Published: newest to oldest</option>
                            </select>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row">
                        <div class="col-xs-6">
                            <div class="form-group add-image" ng-show="componentEditing.bg.img.show" ng-if="!componentEditing.bg.img.url">
                                <div class="btn-wrap">
                                    <input id="abi" ng-model="componentEditing.bg.img.url" media-modal-show-insert="true" type="button" class="pull-right btn btn-primary" ng-model="componentEditing.bg.img.url" data-toggle="modal" data-target="#media-manager-modal" ng-change="saveComponent()" value="Add BG Image">
                                </div>
                            </div>
                            <div class="bgimg" id="bgimg" ng-if="componentEditing.bg.img.url" ng-show="componentEditing.bg.img.show">
                                <i class="fa fa-close" ng-click="removeImage(false)"></i>
                                <img ng-src="{{componentEditing.bg.img.url}}" ng-model="componentEditing.bg.img.url" media-modal-show-insert="true" data-toggle="modal" data-target="#media-manager-modal" ng-change="saveComponent()" class="img-thumbnail">
                            </div>
                            <div class="clearfix margin-bottom-10"></div>
                            <div class="form-group" ng-if="componentEditing.type == 'masthead'" ng-show="componentEditing.bg.img.show">
                                <label for="bg_position">Background Position</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set Background image position."><i class="fa fa-info-circle" /></span>
                                <div class="clearfix"></div>
                                <div class="radio clip-radio radio-primary radio-inline">
                                    <input type="radio" id="leftPosition" name="inline" value="left" ng-model="componentEditing.bg.img.position">
                                    <label for="leftPosition">
                                        Left
                                    </label>
                                </div>
                                <div class="radio clip-radio radio-primary radio-inline">
                                    <input type="radio" id="centerPosition" name="inline" value="center" ng-model="componentEditing.bg.img.position">
                                    <label for="centerPosition">
                                        Center
                                    </label>
                                </div>
                                <div class="radio clip-radio radio-primary radio-inline">
                                    <input type="radio" id="rightPosition" name="inline" value="right" ng-model="componentEditing.bg.img.position">
                                    <label for="rightPosition">
                                        Right
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <div class="form-group" ng-show="componentEditing.bg.img.show" ng-if="componentEditing.type != 'navigation'">
                                <label for="bg_blur">Blur BG</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add/remove blur effect to background image."><i class="fa fa-info-circle" /></span>
                                <switch ng-model="componentEditing.bg.img.blur" class="pull-right" ng-change="saveComponent()"></switch>
                            </div>
                            <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.show">
                                <label for="bg_parallax" ng-if="componentEditing.type != 'navigation'">Parallax:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add/remove Parallax to background image."><i class="fa fa-info-circle" /></span>
                                <switch ng-model="componentEditing.bg.img.parallax" class="pull-right" ng-change="saveComponent()"></switch>
                            </div>
                            <div class="form-group" ng-show="componentEditing.bg.img.show">
                                <label for="bg_overlay">Under Nav</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Make Masthead go underneath nav."><i class="fa fa-info-circle" /></span>
                                <switch ng-model="componentEditing.bg.img.undernav" class="pull-right" ng-change="saveComponent()"></switch>
                            </div>
                            <hr ng-show="componentEditing.bg.img.show"></hr>
                            <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.show">
                                <label for="bg_overlay">Add Overlay</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add/remove Overlay to background image."><i class="fa fa-info-circle" /></span>
                                <switch ng-model="componentEditing.bg.img.overlay" class="pull-right" ng-change="saveComponent()"></switch>
                            </div>
                            <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.overlay">
                                <label for="bg_overlay_color">Overlay Color</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add color to Overlay effect."><i class="fa fa-info-circle" /></span>
                                <div class="pull-right">
                                    <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                    <spectrum-colorpicker format="rgba" options="spectrum.options" class="pull-right" ng-model="componentEditing.bg.img.overlaycolor" ng-change="saveComponent()"></spectrum-colorpicker>
                                </div>
                            </div>
                            <div ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.overlay">
                                <div class="row">
                                    <div class="col-xs-8">
                                        <label for="bg_overlay_opacity">Overlay Opacity</label>
                                        <span tooltip-placement="top" tooltip-html-unsafe="Set Overlay opacity."><i class="fa fa-info-circle" /></span>
                                    </div>
                                    <div class="col-xs-4">
                                        <select id="bg_overlay_opacity" ng-model="componentEditing.bg.img.overlayopacity" ng-change="saveComponent()" class="pull-right form-control margin-bottom-0">
                                            <option value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="30">30</option>
                                            <option value="40">40</option>
                                            <option value="50">50</option>
                                            <option value="60">60</option>
                                            <option value="70">70</option>
                                            <option value="80">80</option>
                                            <option value="90">90</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </tab>
            <tab>
                <tab-heading>
                    <span>Advanced</span>
                </tab-heading>
                <div class="form-group">
                    <label for="colorpicker">Visibility:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide component."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.visibility" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <hr ng-if="componentEditing.type != 'navigation'"></hr>
                <div class="form-group" ng-if="componentEditing.type != 'navigation'">
                    <label for="component-title" tooltip-placement="top" tooltip="The anchor of the component">Anchor</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="The anchor of the component."><i class="fa fa-info-circle" /></span>
                    <input class="form-control" type="text" ng-model="componentEditing.anchor" ng-change="saveComponent()">
                </div>
                <hr></hr>
                <div class="form-group">
                    <label for="component-title">Version</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="The version of the component."><i class="fa fa-info-circle" /></span>
                    <select ng-model="componentEditing.version" ng-change="saveComponent()" ng-options="version for version in componentEditingVersions" class="form-control margin-bottom-0">
                    </select>
                </div>
                <hr ng-if="componentEditing.type == 'image-text'"></hr>
                <div class="form-group" ng-if="componentEditing.type == 'image-text'">
                    <label for="colorpicker">Image Position:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Set image position to left/right."><i class="fa fa-info-circle" /></span>
                    <select ng-model="componentEditing.imagePosition" ng-change="saveComponent(true)" class="form-control">
                        <option value="left">Left</option>
                        <option value="right">Right</option>
                    </select>
                </div>
                <hr ng-if="componentEditing.type == 'simple-form'"></hr>
                <div class="form-group" ng-if="componentEditing.type == 'simple-form'">
                    <label for="from_email" tooltip-placement="top" tooltip="From email address">From Email</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="From email address."><i class="fa fa-info-circle" /></span>
                    <input id="from_email" class="form-control" type="text" ng-model="componentEditing.from_email">
                </div>
            </tab>
            <tab ng-if="componentEditing.type === 'navigation'" id="linksTab">
                <tab-heading>
                    <span>Links</span>
                </tab-heading>
                <div class="form-group">
                    <label for="component-title">Custom Nav</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Allows the user to create a custom nav for this page only."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.customnav" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <hr />
                <div>
                    <p class="col-xs-9" style="padding-left:0;">Drag and Drop your links to rearrange them.</p>
                    <a href="" class="col-xs-3" ng-click="initializeLinks(true)" style="text-align: right;padding: 0;"><span class="fa fa-plus"></span> Add Link</a>
                </div>
                <div class="clearfix"></div>
                <div class="container-fluid add-navlinks" ng-if="addLink" style="border: 1px solid #cccccc!important;border-radius: 5px;">
                    <div class="col-xs-12">
                        <div class="clearfix margin-bottom-5"></div>
                        <div class="col-xs-12">
                            <input type="text" ng-model="newLink.linkTitle" class="form-control" style="margin-top: 10px;">
                        </div>
                        <p class="margin-bottom-0">Link To:</p>
                        <div class="radio-inline">
                            <label for="addRadioOptions-1" class="pull-right">Page</label>
                            <input type="radio" name="addRadioOptions-1" id="addRadio1" ng-model="newLink.linkType" ng-click="newLink.linkType='page'" value="page">
                        </div>
                        <div class="radio-inline">
                            <label for="inlineRadioOptions-2" class="pull-right">Component</label>
                            <input type="radio" name="addRadioOptions-2" id="addRadio2" ng-model="newLink.linkType" ng-click="newLink.linkType='section'" value="section">
                        </div>
                        <div class="radio-inline">
                            <label for="inlineRadioOptions-3" class="pull-right">External</label>
                            <input type="radio" name="addRadioOptions-3" id="addRadio3" ng-model="newLink.linkType" ng-click="newLink.linkType='external'" value="external">
                        </div>
                        <div class="clearfix margin-bottom-10"></div>
                        <div class="row">
                            <div class="col-xs-12">
                                <select style="text-transform:capitalize" ng-if="newLink.linkType=='section'" ng-model="newLink.linkUrl" class="form-control margin-bottom-0">
                                    <option value="" disabled>Select a Component</option>
                                    <option ng-repeat="component in currentPage.components track by $index" data-ng-if="component.anchor" value="{{component.anchor}}">{{setLinkTitle(component.type, $index)}}</option>
                                </select>
                                <select ng-if="newLink.linkType=='page'" ng-model="newLink.linkUrl" class="form-control margin-bottom-0">
                                    <option value="" disabled>Select a Page</option>
                                    <option ng-repeat="page in filterdedPages track by $index" data-ng-if="page.title && page.handle" value="{{page.handle}}" ng-selected="{{link.label == page.title}}">{{page.title}}</option>
                                </select>
                                <input class="form-control" type="text" ng-if="newLink.linkType=='external'" ng-model="newLink.linkUrl" placeholder="Enter External URL">
                            </div>
                        </div>
                        <div class="clearfix margin-bottom-10"></div>
                        <div>
                            <button type="button" ng-click="initializeLinks(false)" style="margin-bottom: 10px;" class="btn btn-primary pull-right">Cancel</button>
                            <button type="button" style="margin-right: 5px;" ng-if="newLink.linkType && newLink.linkUrl && newLink.linkTitle" ng-click="addLinkToNav();" class="btn btn-primary pull-right">Add</button>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div ng-if="!componentEditing.customnav" id="reorderNavBarContainer" class="form-group">
                    <ul ng-hide="" as-sortable="sortableOptions" ng-model="mainMenu.links" class="nav-bar" data-ng-repeat="mainMenu in website.linkLists track by $index" data-ng-if="mainMenu.handle=='head-menu' ">
                        <li ng-if="!componentEditing.customnav" data-ng-repeat="link in mainMenu.links" as-sortable-item class="margin-bottom-10">
                            <div class="head-menu-links" data-label="{{link.label}}">
                                <div class="container-fluid">
                                    <div class="col-xs-1">
                                        <h4>
                                                            <span data-as-sortable-item-handle class="fa fa-arrows"></span>
                                                        </h4>
                                    </div>
                                    <div class="col-xs-9" style="padding-left:0;">
                                        <h4 ng-show="!edit[$index]">
                                                            {{link.label}}
                                                        </h4>
                                        <input ng-blur="updateLinkList()" ng-show="edit[$index]" type="text" ng-model="link.label" class="form-control" style="margin-top: 10px;">
                                    </div>
                                    <div class="col-xs-2">
                                        <h4>
                                                            <i class="fa fa-trash-o pull-right" ng-hide="edit[$index]" ng-click="deleteLinkFromNav($index);" style="margin-top: 3px;"></i>
                                                            <i ng-show="!edit[$index]" class="fa fa-pencil-square-o pull-right" ng-click="edit[$index]=true; linkType[$index]=link.linkTo.type" style="margin-top: 3px;"></i>
                                                            <i ng-show="edit[$index]" class="fa fa-times pull-right" ng-click="edit[$index]= false" style="margin-top: 3px;"></i>
                                                        </h4>
                                    </div>
                                    <div class="col-xs-12" ng-show="edit[$index]">
                                        <div class="clearfix margin-bottom-5"></div>
                                        <p class="margin-bottom-0">Link To:</p>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">Page</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio1" ng-model="link.linkTo.type" ng-click="linkType[$index] = 'page'" value="page" ng-checked="{{link.linkTo.type == 'page'}}">
                                        </div>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">Component</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio2" ng-click="linkType[$index] = 'section'" ng-model="link.linkTo.type" value="section" ng-checked="{{link.linkTo.type == 'section'}}">
                                        </div>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">External</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio3" ng-click="linkType[$index] = 'external'" ng-model="link.linkTo.type" value="external" ng-checked="{{link.linkTo.type == 'external'}}">
                                        </div>
                                        <div class="clearfix margin-bottom-10"></div>
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <select id="linkSection" style="text-transform:capitalize" ng-if="linkType[$index]=='section'" ng-model="link.linkTo.data" ng-change="updateLinkList()" class="form-control margin-bottom-0">
                                                    <option value="" disabled>Select a Component</option>
                                                    <option ng-repeat="component in currentPage.components track by $index" data-ng-if="component.anchor" value="{{component.anchor}}" ng-selected="{{link.linkTo.data === component.anchor}}">{{setLinkTitle(component.type, $index)}}</option>
                                                </select>
                                                <select ng-if="linkType[$index]=='page'" ng-change="updateLinkList()" ng-model="link.linkTo.data" class="form-control margin-bottom-0">
                                                    <option value="" disabled>Select a Page</option>
                                                    <option ng-repeat="page in filterdedPages track by $index" data-ng-if="page.title && page.handle" value="{{page.handle}}" ng-selected="{{link.linkTo.data == page.handle}}">{{page.title}}</option>
                                                </select>
                                                <input class="form-control" type="text" ng-if="linkType[$index]=='external'" ng-change="updateLinkList()" ng-model="link.linkTo.data" placeholder="Enter External URL">
                                            </div>
                                        </div>
                                        <div class="clearfix margin-bottom-10"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div ng-if="componentEditing.customnav" id="reorderNavBarContainer" class="form-group">
                    <ul as-sortable="sortableOptions" ng-model="customMenu.links" class="nav-bar" data-ng-repeat="customMenu in componentEditing.linkLists track by $index" data-ng-if="customMenu.handle=='head-menu' ">
                        <li ng-if="componentEditing.customnav" data-ng-repeat="link in customMenu.links" as-sortable-item class="margin-bottom-10">
                            <div class="head-menu-links" data-label="{{link.label}}">
                                <div class="container-fluid">
                                    <div class="col-xs-1">
                                        <h4>
                                                            <span data-as-sortable-item-handle class="fa fa-arrows"></span>
                                                        </h4>
                                    </div>
                                    <div class="col-xs-9" style="padding-left:0;">
                                        <h4 ng-show="!edit[$index]">
                                                            {{link.label}}
                                                        </h4>
                                        <input ng-blur="updateLinkList()" ng-show="edit[$index]" type="text" ng-model="link.label" class="form-control" style="margin-top: 10px;">
                                    </div>
                                    <div class="col-xs-2">
                                        <h4>
                                                            <i class="fa fa-trash-o pull-right" ng-hide="edit[$index]" ng-click="deleteLinkFromNav($index);" style="margin-top: 3px;"></i>
                                                            <i ng-show="!edit[$index]" class="fa fa-pencil-square-o pull-right" ng-click="edit[$index]=true; linkType[$index]=link.linkTo.type" style="margin-top: 3px;"></i>
                                                            <i ng-show="edit[$index]" class="fa fa-times pull-right" ng-click="edit[$index]= false" style="margin-top: 3px;"></i>
                                                        </h4>
                                    </div>
                                    <div class="col-xs-12" ng-show="edit[$index]">
                                        <div class="clearfix margin-bottom-5"></div>
                                        <p class="margin-bottom-0">Link To:</p>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">Page</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio1" ng-model="link.linkTo.type" ng-click="linkType[$index] = 'page'" value="page" ng-checked="{{link.linkTo.type == 'page'}}">
                                        </div>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">Component</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio2" ng-click="linkType[$index] = 'section'" ng-model="link.linkTo.type" value="section" ng-checked="{{link.linkTo.type == 'section'}}">
                                        </div>
                                        <div class="radio-inline">
                                            <label for="inlineRadioOptions-{{$index}}" class="pull-right">External</label>
                                            <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio3" ng-click="linkType[$index] = 'external'" ng-model="link.linkTo.type" value="external" ng-checked="{{link.linkTo.type == 'external'}}">
                                        </div>
                                        <div class="clearfix margin-bottom-10"></div>
                                        <div class="row">
                                            <div class="col-xs-12">
                                                <select id="linkSection" style="text-transform:capitalize" ng-if="linkType[$index]=='section'" ng-model="link.linkTo.data" ng-change="updateLinkList()" class="form-control margin-bottom-0">
                                                    <option value="" disabled>Select a Component</option>
                                                    <option ng-repeat="component in currentPage.components track by $index" data-ng-if="component.anchor" value="{{component.anchor}}" ng-selected="{{link.linkTo.data === component.anchor}}">{{setLinkTitle(component.type, $index)}}</option>
                                                </select>
                                                <select ng-if="linkType[$index]=='page'" ng-change="updateLinkList()" ng-model="link.linkTo.data" class="form-control margin-bottom-0">
                                                    <option value="" disabled>Select a Page</option>
                                                    <option ng-repeat="page in allPages track by $index" data-ng-if="page.title && page.handle" value="{{page.handle}}" ng-selected="{{link.linkTo.data == page.handle}}">{{page.title}}</option>
                                                </select>
                                                <input class="form-control" type="text" ng-if="linkType[$index]=='external'" ng-change="updateLinkList()" ng-model="link.linkTo.data" placeholder="Enter External URL">
                                            </div>
                                        </div>
                                        <div class="clearfix margin-bottom-10"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </tab>
            <tab active="tabs.hours" ng-if="componentEditing.type === 'contact-us'">
                <tab-heading>
                    <span>Hours</span>
                </tab-heading>
                <div class="form-group">
                    <label for="show-hours">Show Business Hours</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide business hours to contact us component."><i class="fa fa-info-circle" /></span>
                    <switch id="show-hours" ng-model="componentEditing.showHours" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group" ng-if="componentEditing.showHours">
                    <label for="split-hours">Id like to enter two sets of hours for a single day</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Are your hours split during a single day such as 9-11am and 7-10pm?"><i class="fa fa-info-circle" /></span>
                    <switch id="splitHours" ng-model="componentEditing.splitHours" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group" ng-if="componentEditing.showHours">
                    <label for="location-hours">Business Hours </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us business hours."><i class="fa fa-info-circle" /></span>
                    <div ng-if="componentEditing.splitHours" class="col-xs-12 multiple-hours" ng-repeat="val in componentEditing.hours">
                        <div class="col-xs-1">
                            <label for="val.day">{{val.day}}:</label>
                        </div>
                        <div class="col-xs-2">
                            <select ng-hide="val.closed" class="chosen-select hour-start-select form-control" ng-model="val.start" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <div class="col-xs-2">
                            <select ng-hide="val.closed" class="chosen-select hour-start-select form-control" ng-model="val.end" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <label class="pull-left" ng-hide="val.closed" ng-if="val.split" style="margin:10px"> & </label>
                        <div class="col-xs-2">
                            <select ng-hide="val.closed" ng-if="val.split" class="chosen-select hour-start-select form-control" ng-model="val.start2" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <div class="col-xs-2">
                            <select ng-if="val.split" ng-hide="val.closed" class="chosen-select hour-start-select form-control" ng-model="val.end2" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <div class="col-xs-5 margin-left-5">
                            <div class="checkbox clip-check check-primary checkbox-inline">
                                <input type="checkbox" id="closed-{{$index}}" ng-model="val.closed">
                                <label for="closed-{{$index}}">
                                    Closed
                                </label>
                            </div>
                            <div class="checkbox clip-check check-primary checkbox-inline" ng-hide="val.closed">
                                <input type="checkbox" id="split-{{$index}}" ng-model="val.split">
                                <label for="split-{{$index}}">
                                    Split
                                </label>
                            </div>
                        </div>
                    </div>
                    <div ng-if="!componentEditing.splitHours" class="col-xs-12" ng-repeat="val in componentEditing.hours">
                        <div class="col-xs-1">
                            <label for="val.day">{{val.day}}:</label>
                        </div>
                        <div class="col-xs-3">
                            <select ng-hide="val.closed" class="chosen-select hour-start-select form-control" ng-model="val.start" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <div class="col-xs-3">
                            <select ng-hide="val.closed" class="chosen-select hour-start-select form-control" ng-model="val.end" ng-options="item for item in hours.HOURS">
                            </select>
                        </div>
                        <div class="col-xs-5">
                            <div class="checkbox clip-check check-primary checkbox-inline">
                                <input type="checkbox" id="closed-{{$index}}" ng-model="val.closed">
                                <label for="closed-{{$index}}">
                                    Closed
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </tab>
            <tab active="tabs.address" ng-if="componentEditing.type === 'contact-us'">
                <tab-heading>
                    <span>Address</span>
                </tab-heading>
                <div class="form-group">
                    <label for="location-address">Address </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us address line 1."><i class="fa fa-info-circle" /></span>
                    <input id="location-address" class="form-control" type="text" ng-model="componentEditing.location.address" ng-blur="updateContactUsAddress()">
                </div>
                <div class="form-group">
                    <label for="location-address2">Address2 </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us address line 2."><i class="fa fa-info-circle" /></span>
                    <input id="location-address2" class="form-control" type="text" ng-model="componentEditing.location.address2" ng-blur="updateContactUsAddress()">
                </div>
                <div class="form-group">
                    <label for="location-city">City </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us City."><i class="fa fa-info-circle" /></span>
                    <input id="location-city" class="form-control" type="text" ng-model="componentEditing.location.city" ng-blur="updateContactUsAddress()">
                    <div class="error"></div>
                </div>
                <div class="form-group">
                    <label for="location-state">State </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us State."><i class="fa fa-info-circle" /></span>
                    <input id="location-state" class="form-control" type="text" ng-model="componentEditing.location.state" ng-blur="updateContactUsAddress()">
                    <div class="error"></div>
                </div>
                <div class="form-group">
                    <label for="location-zip">Zip Code </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us zip code."><i class="fa fa-info-circle" /></span>
                    <input id="location-zip" validation-type="zip" indigeweb-validate-form-fields class="form-control" type="text" ng-model="componentEditing.location.zip" ng-blur="updateContactUsAddress()">
                </div>
                <div class="form-group">
                    <label for="contact-phone">Phone number </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Contact Us Phone number."><i class="fa fa-info-circle" /></span>
                    <input id="contact-phone" validation-type="phone" indigeweb-validate-form-fields class="form-control" type="text" ng-model="componentEditing.contact.phone" ng-blur="updateContactUsAddress()">
                </div>
            </tab>
            <tab ng-if="componentEditing.type === 'simple-form'">
                <tab-heading>
                    <span>Fields</span>
                </tab-heading>
                <div class="form-group" ng-repeat="field in componentEditing.fields">
                    <div class="col-xs-12 ckbox ckbox-success">
                        <input type="checkbox" id="chk_{{field.name}}" ng-model="field.value" ng-change="saveComponent()" class="ng-pristine ng-untouched ng-valid" checked="checked">
                        <label for="chk_{{field.name}}">{{field.display}}</label>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </tab>
            <tab ng-if="componentEditing.type === 'video'">
                <tab-heading>
                    <span>Video</span>
                </tab-heading>
                <div class="form-group">
                    <label for="member-name">Video Type:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Select video type."><i class="fa fa-info-circle" /></span>
                    <select id="member-name" class="form-control" ng-model="componentEditing.videoType">
                        <option value="youtube">YouTube</option>
                        <option value="vimeo">Vimeo</option>
                        <option value="html5">Html4 Video</option>
                    </select>
                </div>
                <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                    <label for="member-name">Video URL:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add video URL."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.video">
                </div>
                <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                    <label for="member-name">Mp4 Url:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add Mp4 video URL."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.videoMp4">
                </div>
                <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                    <label for="member-name">Webm Url:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add Webm video URL."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.videoWebm">
                </div>
                <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                    <label for="colorpicker">Auto Play:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Set auto play video"><i class="fa fa-info-circle" /></span>
                    <switch id="splitd" ng-model="componentEditing.videoAutoPlay" class="pull-right"></switch>
                </div>
                <div class="form-group" ng-show="componentEditing.videoType == 'youtube'">
                    <label for="colorpicker">Controls:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide video player controls."><i class="fa fa-info-circle" /></span>
                    <switch id="splitHours" ng-model="componentEditing.videoControls" class="pull-right"></switch>
                </div>
                <div class="form-group" ng-show="componentEditing.videoType == 'youtube'">
                    <label for="colorpicker">Branding:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Youtube video branding."><i class="fa fa-info-circle" /></span>
                    <switch id="splitHours" ng-model="componentEditing.videoBranding" class="pull-right"></switch>
                </div>
                <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                    <label for="member-name">Optional Width:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Set video width."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.videoWidth">
                </div>
                <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                    <label for="member-name">Optional Height:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Set video height."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.videoHeight">
                </div>
                <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                    <label for="member-name">Start Video Image Url:</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Set start video image URL."><i class="fa fa-info-circle" /></span>
                    <input id="member-name" class="form-control" type="text" ng-model="componentEditing.videoImage">
                </div>
            </tab>
            <tab active="tabs.address" ng-if="componentEditing.type === 'top-bar'">
                <tab-heading>
                    <span>Top Bar Info</span>
                </tab-heading>
                <div class="form-group">
                    <label for="top-bar-hours">Business Hours </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add business hours to topbar."><i class="fa fa-info-circle" /></span>
                    <input id="top-bar-hours" class="form-control" type="text" ng-model="componentEditing.businessHours">
                </div>
                <div class="form-group">
                    <label for="top-bar-phone">Phone number </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add Phone number to topbar."><i class="fa fa-info-circle" /></span>
                    <input id="top-bar-phone" validation-type="phone" indigeweb-validate-form-fields class="form-control" type="text" ng-model="componentEditing.phone">
                </div>
                <div class="form-group">
                    <label for="top-bar-email">Email </label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Add Email to topbar."><i class="fa fa-info-circle" /></span>
                    <input id="top-bar-email" class="form-control" type="text" ng-model="componentEditing.email">
                </div>
            </tab>
            <tab ng-if="componentEditing.type === 'meet-team'">
                <tab-heading>
                    <span>Meet team options</span>
                </tab-heading>
                <div class="form-group">
                    <label for="bg_blur">Show members image</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide team members image."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.teamSettings.profilepic" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group">
                    <label for="bg_blur">Show members name</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide team members name."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.teamSettings.name" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group">
                    <label for="bg_blur">Show members position</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide team members position."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.teamSettings.position" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group">
                    <label for="bg_blur">Show members bio</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide team members bio."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.teamSettings.bio" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
                <div class="form-group">
                    <label for="bg_blur">Show members social</label>
                    <span tooltip-placement="top" tooltip-html-unsafe="Show/hide team members social links."><i class="fa fa-info-circle" /></span>
                    <switch ng-model="componentEditing.teamSettings.networks" class="pull-right" ng-change="saveComponent()"></switch>
                </div>
            </tab>
        </tabset>
    </div>
    <div class="modal-footer" ng-class="{hidden: hover}">
        <div class="form-group margin-bottom-0">
             <button type="button" ng-click="revertComponent()" class="btn btn-warning btn-o btn-wide">
                Revert
             </button>
            <button type="button" class="btn btn-info btn-wide btn-o" ng-click="closeModal()">
                Done
            </button>
        </div>
    </div>
    <!-- /.modal -->
</script>

