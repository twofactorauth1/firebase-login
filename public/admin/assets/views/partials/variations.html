<div class="col-sm-12 margin-top-15 hidden" id="variation-manager">
    <div class="panel panel-white">
        <div class="panel-heading border-light">
            <h4 class="panel-title">Variation Manager</h4>
            <ul class="panel-heading-tabs border-light">
                <li>
                    <div class="pull-right">
                        <div class="checkbox">
                            <span class="green switch green" ng-click="showVariations=!showVariations" ng-class="{ checked:showVariations }" ng-model="showVariations"><small></small><input type="checkbox" ng-model="showVariations" style="display:none" class="ng-pristine ng-untouched ng-valid"><span class="switch-text"> </span></span>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="panel-body" ng-if="showVariations" ng-class="{'height-250': !product.attributes}">
            <!-- <div class="backdrop" ng-if="!products.attributes">
                    <h5 class="panel-title">Please Add Attribute Before Adding Variations</h5>
                </div> -->
            <div class="col-sm-12" ng-if="!products.attributes">
                <div class="panel panel-white margin-bottom-15" ng-repeat="variation in product.variations" id="panel4">
                    <div class="panel-heading">
                        <h4 class="panel-title text-primary pull-left margin-right-15">#{{variation.id}}</h4>
                        <div ng-repeat="attribute in product.attributes" class="form-group pull-left margin-left-5" style="margin-top: -6px;">
                            <label class="pull-left margin-right-5 margin-left-10" style="line-height: 35px;">{{attribute.name}}</label>
                            <ui-select ng-model="attribute.selected" theme="bootstrap" class="pull-left">
                                <ui-select-match placeholder="{{attribute.name}}">
                                    <small ng-bind-html="$select.selected.text"></small>
                                </ui-select-match>
                                <ui-select-choices repeat="single in attribute.values">
                                    <small ng-bind-html="single.text | highlight: $select.search"></small>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                        <ct-paneltool class="panel-tools" tool-collapse="tool-collapse" tool-dismiss="removeVariation()"></ct-paneltool>
                    </div>
                    <!-- ng-init="'panel'+{{$index}}=true" -->
                    <div collapse="panel4" ng-init="panel4=true" class="panel-wrapper">
                        <div class="panel-body">
                            <div class="panel panel-transparent margin-bottom-0">
                                <div class="panel-body no-padding">
                                    <div class="col-sm-4">
                                        <div class="image">
                                            <label>
                                                Image
                                            </label>
                                            <div class="media">
                                                <a class="media-left media-middle" href="#">
                                                    <img ng-src="{{ variation.icon }}" err-src="assets/images/default-user.png" alt="" class="media-object thumbnail" height="85px">
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label>
                                                Type
                                            </label>
                                            <select ng-model="variation.type" class="form-control" ng-options="type.value as type.name for type in productTypeOptions">
                                                <option value="">-- choose type --</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="form-field-select-1">
                                                Status
                                            </label>
                                            <select ng-model="variation.status" class="form-control" ng-options="status.value as status.name for status in productStatusOptions">
                                                <option value="">-- choose status --</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <form role="form" class="ng-pristine ng-valid">
                                            <div class="form-group">
                                                <label>
                                                    Regular Price
                                                </label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control" ng-model="variation.regular_price">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>
                                                    Sale Price
                                                </label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control" ng-model="variation.sales_price">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label>
                                                    Cost
                                                </label>
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input type="text" class="form-control" ng-model="variation.cost">
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="col-sm-12" ng-if="variation.type">
                                        <div class="row" ng-if="variation.type == 'digital'">
                                            <hr>
                                            <div class="col-sm-12">
                                                <h4>Digital</h4>
                                            </div>
                                            <form role="form" class="form-horizontal ng-pristine ng-valid">
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">
                                                        Downloadable Files
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <table class="table table-striped table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name</th>
                                                                    <th>File URL</th>
                                                                    <th>&nbsp;</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="ui-sortable">
                                                                <tr>
                                                                    <td>
                                                                        <input type="text" class="form-control" placeholder="File Name">
                                                                    </td>
                                                                    <td>
                                                                        <input type="text" class="form-control" placeholder="File URL">
                                                                    </td>
                                                                    <td width="30%">
                                                                        <button type="button" class="btn btn-wide btn-o btn-info">Choose File</button>
                                                                        <button type="button" class="btn btn-wide btn-o btn-danger">Delete</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            <tfoot>
                                                                <tr>
                                                                    <td colspan="3">
                                                                        <div class="center">
                                                                            <button type="button" class="btn btn-wide btn-o btn-info">Add File</button>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">
                                                        Download Limit
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span>
                                                            <input id="demo4" type="text" value="0" name="demo4" touchspin="" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" class="form-control" style="display: block;" ng-model="product.download_limit">
                                                            <span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-sm-2 control-label">
                                                        Download Expiry
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix" style="display: none;"></span>
                                                            <input id="demo4" type="text" value="0" name="demo4" touchspin="" data-verticalbuttons="true" data-verticalupclass="ti-angle-up" data-verticaldownclass="ti-angle-down" class="form-control" style="display: block; " ng-model="product.download_expiry">
                                                            <span class="input-group-addon bootstrap-touchspin-postfix" style="display: none;"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group margin-bottom-0">
                                                    <label class="col-sm-2 control-label">
                                                        Download Type
                                                    </label>
                                                    <div class="col-sm-10">
                                                        <select id="form-field-select-1" class="form-control" ng-model="product.download_type">
                                                            <option value="">&nbsp;</option>
                                                            <option value="pdf">PDF</option>
                                                            <option value="music">Music</option>
                                                            <option value="software">Application/Software</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="row" ng-if="variation.type == 'physical'">
                                            <hr>
                                            <h1>Physical</h1>
                                        </div>
                                        <div class="row" ng-if="variation.type == 'subscription'">
                                            <hr>
                                            <div class="panel panel-white">
                                                <div class="panel-heading border-light">
                                                    <h4 class="panel-title">Subscriptions</h4>
                                                    <ul class="panel-heading-tabs border-light">
                                                        <li>
                                                            <div class="pull-right">
                                                                <button type="button" class="btn btn-wide btn-o btn-info">Add Subscription</button>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="panel-body">
                                                    <table class="table table-primary">
                                                        <thead>
                                                            <tr class="ng-scope">
                                                                <th>Active</th>
                                                                <th>Name</th>
                                                                <th class="center">Interval</th>
                                                                <th class="center">Amount</th>
                                                                <th class="center">Sign Up Fee</th>
                                                                <th class="center">Actions</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="ng-scope">
                                                                <td>
                                                                    <div class="checkbox" style="margin:0">
                                                                        <span class="green switch green checked ng-valid ng-click-active" ng-click="showVariations=!showVariations" ng-class="{ checked:showVariations }" ng-model="showVariations" ng-init="showVariations = true"><small></small><input type="checkbox" ng-model="showVariations" style="display:none" class="ng-pristine ng-untouched ng-valid"><span class="switch-text"> </span></span>
                                                                    </div>
                                                                </td>
                                                                <td class="ng-binding">Indigenous Monthly</td>
                                                                <td class="center">1</td>
                                                                <td class="center">$49.95</td>
                                                                <td class="center">500</td>
                                                                <td class="center">
                                                                    <div class="visible-md visible-lg hidden-sm hidden-xs">
                                                                        <a href="#" class="btn btn-transparent btn-xs" tooltip-placement="top" tooltip="Edit"><i class="fa fa-pencil"></i></a>
                                                                        <a href="#" class="btn btn-transparent btn-xs tooltips" tooltip-placement="top" tooltip="Share"><i class="fa fa-share"></i></a>
                                                                        <a href="#" class="btn btn-transparent btn-xs tooltips" tooltip-placement="top" tooltip="Remove"><i class="fa fa-times fa fa-white"></i></a>
                                                                    </div>
                                                                    <div class="visible-xs visible-sm hidden-md hidden-lg">
                                                                        <div class="btn-group" dropdown="" is-open="status.isopen">
                                                                            <button type="button" class="btn btn-primary btn-o btn-sm dropdown-toggle" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">
                                                                                <i class="fa fa-cog"></i>&nbsp;<span class="caret"></span>
                                                                            </button>
                                                                            <ul class="dropdown-menu pull-right dropdown-light" role="menu">
                                                                                <li>
                                                                                    <a href="#">Edit</a>
                                                                                </li>
                                                                                <li>
                                                                                    <a href="#">Remove</a>
                                                                                </li>
                                                                            </ul>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" ng-if="variation.type == 'externalLink'">
                                            <hr>
                                            <div class="col-sm-12">
                                                <h4>External Link</h4>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label>Allow Product View</label>
                                                    <select ng-change="setFormDirtyFn()" class="form-control" ng-model="product.externalLinkAllowProductView">
                                                        <option value=true>Yes</option>
                                                        <option value=false>No</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label>Link Text</label>
                                                    <input ng-change="setFormDirtyFn()" class="form-control" type="text" placeholder="Link text" ng-model="product.externalLinklinkText">
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label>Link Url</label>
                                                    <input ng-change="setFormDirtyFn()" indigeweb-validate-form-fields validation-type="url" class="form-control" type="text" placeholder="Link url" ng-model="product.externalLinklinkUrl">
                                                </div>
                                                <div class="form-group">
                                                    <label>Open In</label>
                                                    <select ng-change="setFormDirtyFn()" class="form-control" ng-model="product.externalLinkOpenIn">
                                                        <option value='new'>New Window</option>
                                                        <option value='same'>Same Window</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
