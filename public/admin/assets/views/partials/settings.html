<div ng-controller="SettingsCtrl" class="sitesettings">
    <div class="modal-header">
        <h3 class="modal-title"><i class="ti-settings"></i> {{viewTitle}}</h3>
    </div>
    <div class="modal-body bg-white no-padding">
        <div ng-show="settingsView == 'all'" class="padding-10 padding-top-20">
            <div class="col-sm-3">
                <div class="panel panel-transparent margin-bottom-0">
                    <div class="panel-heading padding-bottom-0 padding-top-0" style="min-height: inherit">
                        <div class="panel-title text-azure text-large">
                            <i class="ti-desktop"></i> Website
                        </div>
                        <hr class="margin-top-5 margin-bottom-5">
                    </div>
                    <div class="panel-body padding-top-0 padding-bottom-0">
                        <ul class="list-unstyled cl-effect-1" style="line-height:25px">
                            <li>
                                <a ng-click="viewSettings('website', 'SEO')">SEO</a>
                            </li>
                            <li>
                                <a ng-click="viewSettings('website', 'Domain')">Domain</a>
                            </li>
                            <li>
                                <a ng-click="viewSettings('website', 'Blog')">Blog</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- <div class="col-sm-3">
                <div class="panel panel-transparent margin-bottom-0">
                    <div class="panel-heading padding-bottom-0 padding-top-0" style="min-height: inherit">
                        <div class="panel-title text-azure text-large">
                            <i class="ti-user"></i> Customers
                        </div>
                        <hr class="margin-top-5 margin-bottom-5">
                    </div>
                    <div class="panel-body padding-top-0 padding-bottom-0">
                        <ul class="list-unstyled cl-effect-1" style="line-height:25px">
                            <li>
                                <a ng-click="viewSettings('customers', 'Membership')">Membership</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div> -->
            <div class="col-sm-3">
                <div class="panel panel-transparent margin-bottom-0">
                    <div class="panel-heading padding-bottom-0 padding-top-0" style="min-height: inherit">
                        <div class="panel-title text-azure text-large">
                            <i class="ti-shopping-cart"></i> Commerce
                        </div>
                        <hr class="margin-top-5 margin-bottom-5">
                    </div>
                    <div class="panel-body padding-top-0 padding-bottom-0">
                        <ul class="list-unstyled cl-effect-1" style="line-height:25px">
                            <li>
                                <a ng-click="viewSettings('commerce', 'Taxes')">Taxes</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="panel panel-transparent margin-bottom-0">
                    <div class="panel-heading padding-bottom-0 padding-top-0" style="min-height: inherit">
                        <div class="panel-title text-azure text-large">
                            <i class="ti-panel"></i> Account
                        </div>
                        <hr class="margin-top-5 margin-bottom-5">
                    </div>
                    <div class="panel-body padding-top-0 padding-bottom-0">
                        <ul class="list-unstyled cl-effect-1" style="line-height:25px">
                            <li>
                                <a ng-click="navigateTo('app.account.profilebusiness', $event)">Business Profile</a>
                            </li>
                            <li>
                                <a ng-click="navigateTo('app.account.billing', $event)">Billing</a>
                            </li>
                            <li>
                                <a ng-click="navigateTo('app.account.integrations', $event)">Integrations</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="panel panel-transparent margin-bottom-0">
                    <div class="panel-heading padding-bottom-0 padding-top-0" style="min-height: inherit">
                        <div class="panel-title text-azure text-large">
                            <i class="ti-email"></i> Emails
                        </div>
                        <hr class="margin-top-5 margin-bottom-5">
                    </div>
                    <div class="panel-body padding-top-0 padding-bottom-0">
                        <ul class="list-unstyled cl-effect-1" style="line-height:25px">
                            <li>
                                <a ng-click="viewSettings('emails', 'Notifications')">Notifications</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div ng-show="settingsView == 'website'" class="modal-overflow-content">
            <tabset class="tabbable tabs-left margin-bottom-0">
                <tab heading="SEO">
                    <form>
                        <div class="col-xs-6">
                            <div class="form-group">
                                <label>Title</label>
                                <span tooltip-placement="right" tooltip-html-unsafe="Title will appear in search engine results, browser tab, and bookmarks."><i class="fa fa-info-circle" /></span>
                                <input type="text" class="form-control" ng-model="website.title" />
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <span tooltip-placement="right" tooltip-html-unsafe="Description will appear in search engine results."><i class="fa fa-info-circle" /></span>
                                <textarea type="text" class="form-control" ng-model="website.seo.description"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Keywords</label>
                                <span tooltip-placement="right" tooltip-html-unsafe="Use a comma to separate keywords for search engines indexing."><i class="fa fa-info-circle" /></span>
                                <tags-input ng-model="website.seo.keywords"></tags-input>
                            </div>
                            <div class="form-group">
                                <!-- <label>Footer Link</label> -->
                                <!-- <span id="helpBlock" class="help-block">Remove the Indigenous Logo from the footer component.</span> -->
                                <span id="helpBlock" class="help-block">Custom Footer Link</span>
                                <label class="radio-inline">
                                    <input type="radio" name="footerLink" id="footerLink1" ng-value="false" ng-model="website.settings.footerlink"> Yes
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="footerLink" id="footerLink2" ng-value="true" ng-model="website.settings.footerlink"> No
                                </label>
                            </div>
                            <div class="form-group" ng-if="!website.settings.footerlink">
                                <label>Link Text</label>
                                <input type="text" class="form-control" ng-model="website.settings.footerLinkText" />
                            </div>
                            <div class="form-group" ng-if="!website.settings.footerlink">
                                <label>Link URL</label>
                                <input type="text" class="form-control" ng-model="website.settings.footerLinkURL" />
                            </div>

                        </div>
                        <div class="col-xs-6">
                            <div class="form-group">
                                <label>Favicon</label>
                                <div>
                                    <span class="help-block">A favicon (pronounced “fave-icon”) is a small, iconic image that represents your website. Favicons are most often found in the address bar of your web browser, but they can also be used in lists of bookmarks in web browsers and feed aggregators.</span>
                                    <div class="favicon-image">
                                        <p class="pagetitle" ng-text-truncate="website.title" ng-tt-chars-threshold="12" ng-tt-no-toggling></p>
                                        <p class="pageurl"><span ng-if="!account.domain">http://{{account.subdomain}}.indigenous.io</span><span ng-if="account.domain">http://{{account.domain}}</span></p>
                                        <img class="top-favicon" src="{{ website.settings.favicon }}" err-src="https://s3.amazonaws.com/indigenous-account-websites/acct_6/favicon.ico">
                                        <img class="bottom-favicon" src="{{ website.settings.favicon }}" err-src="https://s3.amazonaws.com/indigenous-account-websites/acct_6/favicon.ico">
                                    </div>
                                    <div class="user-image-buttons-edit">
                                        <span class="btn btn-primary" ng-click="openMediaModal()"><i class="fa fa-pencil"></i> Edit</span>
                                        <span class="btn btn-danger" ng-if="website.settings.favicon" ng-click="removeFavicon()"><i class="fa fa-times"></i> Delete</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>Meta Tags</label>
                                <span class="help-block">Meta tags can be used to customize search engine behavior or verify control of a particular website.  If you need to enter customer meta tags and values, enter them below.</span>
                                <div ng-repeat="meta in website.metatags track by $index">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Tag Name
                                                </label>
                                                <input type="text" placeholder="tag name" class="form-control" ng-model="website.metatags[$index].name">
                                            </div>
                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Tag Value
                                                </label>
                                                <input type="text" placeholder="tag value" class="form-control" ng-model="website.metatags[$index].value">
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <div ng-if="showAddMeta($index)" class="btn btn-wide btn-o btn-primary pull-right" ng-click="accountAddMetaFn()">Add another tag</div>
                                        <div ng-if="!showAddMeta($index)" class="btn btn-wide btn-o btn-warning pull-right" ng-click="removeMeta($index)">Remove tag</div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>
                                <div ng-if="!website.metatags" class="btn btn-wide btn-o btn-primary pull-right" ng-click="accountAddMetaFn()">Add Meta Tag</div>
                            </div>
                        </div>
                    </form>
                    <div class="clearfix"></div>
                </tab>
                <tab heading="Domain">
                    <form>
                        <div class="col-xs-6">
                            <div class="form-group margin-bottom-10">
                                <label>Indigenous Domain</label>
                                <p class="margin-top-10">You current subdomain is <span class="text-bold">{{originalAccount.subdomain}}.indigenous.io</span>
                                    <span class="cl-effect-1">
                                        <a ng-click="modifysub.show=true" ng-hide="modifysub.show">Modify</a>
                                        <a ng-click="revertSubdomain()" ng-show="modifysub.show">Cancel</a>
                                    </span>
                                </p>
                                <div ng-if="modifysub.show">
                                    <span class="input-icon input-icon-right" ng-class="{'has-error': domainError}">
                                        <input class="form-control" type="text" ng-model="account.subdomain" ng-change="checkDomainExists(account)" ng-model-options="{ debounce: 800 }" />
                                        <span ng-if="checkingSubdomain"><i class="fa fa-spinner fa-spin"></i></span>
                                    <span ng-if="hasCheckedSubdomain && domainError && !checkingSubdomain"><i class="fa fa-times text-danger"></i></span>
                                    <span ng-if="hasCheckedSubdomain && !domainError && !checkingSubdomain"><i class="fa fa-check text-success"></i></span>
                                    </span>
                                    <span class="help-block" ng-hide="hasCheckedSubdomain && !domainError && !checkingSubdomain || domainError"><i class="ti-info-alt text-primary"></i> Enter the new desired subdomain and we will check to see if its avaliable.</span>
                                    <span class="help-block text-success" ng-if="hasCheckedSubdomain && !domainError && !checkingSubdomain"><i class="ti-info-alt text-primary"></i> Save the settings for this to take effect.</span>
                                    <span class="help-block text-success" ng-if="checkingSubdomain"><i class="ti-info-alt text-primary"></i> Save the settings for this to take effect.</span>
                                    <span class="error-block text-danger" ng-show="domainError">Domain already taken, please choose another one.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Custom Domain</label>
                                <input type="text" class="form-control" ng-model="account.domain" readonly />
                                <span class="help-block"><a href="#" onclick="Intercom('showNewMessage', 'Support for Custom Domain:')">Chat with us about your custom domain</a></span>
                            </div>
                        </div>
                    </form>
                    <div class="clearfix"></div>
                </tab>
                <tab heading="Blog">
                    <form class="col-sm-6 form-horizontal">
                        <div class="form-group">
                            <label>Enable Blog</label>
                            <span tooltip-placement="bottom" tooltip-html-unsafe="Enable the blog for your website"><i class="fa fa-info-circle" /></span>
                            <switch ng-model="account.showhide.blog" class="pull-right"></switch>
                        </div>
                        <div class="clearfix"></div>
                    </form>
                    <div class="clearfix"></div>
                </tab>
            </tabset>
        </div>
        <!-- <div ng-show="settingsView == 'customers'">
        </div> -->
        <div ng-show="settingsView == 'commerce'">
            <tabset class="tabbable tabs-left margin-bottom-0">
                <tab heading="Taxes">
                    <form class="col-sm-6 form-horizontal">
                        <div class="form-group">
                            <label>Enable Taxes</label>
                            <span tooltip-placement="bottom" tooltip-html-unsafe="Enable taxes for your products."><i class="fa fa-info-circle" /></span>
                            <switch ng-model="account.commerceSettings.taxes" class="pull-right"></switch>
                        </div>
                        <div class="clearfix"></div>
                        <div ng-if="account.commerceSettings.taxes">
                            <div class="form-group">
                                <label>Calculate Tax Based On:</label>
                                <select ng-model="account.commerceSettings.taxbased" class="form-control" ng-options="calc.value as calc.name for calc in calculateTaxOptions">
                                    <option value="">-- choose --</option>
                                </select>
                            </div>
                        </div>
                    </form>
                    <div class="clearfix"></div>
                </tab>
            </tabset>
        </div>
        <div ng-show="settingsView == 'emails'">
            <tabset class="tabbable tabs-left margin-bottom-0">
                <tab heading="Notifications">
                    <form class="col-sm-6 form-horizontal">
                        <div class="form-group">
                            <label>Send Me Notifications For:</label>
                            <div class="checkbox clip-check check-primary">
                                <input type="checkbox" id="allNewContacts" ng-click="clearNoNotifications()" ng-model="account.email_preferences.new_contacts">
                                <label for="allNewContacts">
                                    New contacts that sign up on your website
                                </label>
                            </div>
                            <div class="checkbox clip-check check-primary">
                                <input type="checkbox" id="allNewOrders" ng-click="clearNoNotifications()" ng-model="account.email_preferences.new_orders">
                                <label for="allNewOrders">
                                    New orders created by an online sale
                                </label>
                            </div>
                            <div class="checkbox clip-check check-primary">
                                <input type="checkbox" id="helpfulTips" ng-click="clearNoNotifications()" ng-model="account.email_preferences.helpful_tips">
                                <label for="helpfulTips">
                                    Helpful tips and insights from indigenous
                                </label>
                            </div>
                            <div class="checkbox clip-check check-primary">
                                <input type="checkbox" id="noNotifications" ng-click="clearAllNotifications()" ng-model="account.email_preferences.no_notifications">
                                <label for="noNotifications">
                                    Don't send any notifications
                                </label>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </form>
                    <div class="clearfix"></div>
                </tab>
            </tabset>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="modal-footer">
        <div ng-if="settingsView != 'all'">
            <button class="btn btn-primary pull-left" ng-click="viewSettings('all')">Show All</button>
        </div>
        <div class="pull-right">
            <button class="btn btn-primary" ng-click="cancel($event)">Close</button>
        </div>
        <div ng-if="settingsView != 'all'" class="pull-right margin-right-5">
            <button class="btn btn-primary" ng-click="saveSettings()">Save </button>
        </div>
    </div>
</div>
