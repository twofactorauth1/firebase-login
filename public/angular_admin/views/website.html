<div class="website" ng-class="{true: 'editing', false: ''}[isEditing == true]">
    <toaster-container toaster-options="{'time-out': 3000, 'close-button':true}"></toaster-container>
    <div ng-if="showOnboarding">
        <onboarding-popover enabled='showOnboarding' steps='onboardingSteps' step-index='stepIndex' on-finish-callback='finishOnboarding'></onboarding-popover>
    </div>
    <div class="pageheader row website-controls" ng-class="{true: 'editing', false: ''}[isEditing == true]">
        <div class="col-xs-8 pages-editing">
            <a class="btn btn-outline pull-left" type="button" href="/admin#/website" style="margin-left: 10px;">
                <span class="fa fa-chevron-left"></span> <span class="hidden-xs">Back</span>
            </a>
            <h2 class="pull-left" style="margin-right: 15px;" ng-show="isEditing"><i class="fa fa-desktop"></i><div class="hidden-xs div-header"> Editing {{single_post ? post_data.post_title : currentPage.title}}</div></h2>
            <h2 class="pull-left hidden-xs" style="margin-right: 15px;" ng-show="!isEditing"><i class="fa fa-desktop"></i><div class="hidden-xs div-header"> Website</div></h2>
            <div class="btn-group pull-left" dropdown is-open="status.isopen">
                <button type="button" class="btn btn-orange dropdown-toggle" ng-disabled="disabled" ng-show="!isEditing">
                    <div class="hidden-xs div-header">
                        {{currentPage.title}}</div>
                    <span class="caret"></span>
                </button>

            </div>
        </div>
        <div class="col-xs-4">

            <a class="btn btn-outline pull-right btn-edit-page" type="button" ng-click="editPage()" ng-show="!isEditing">
                <i class="fa fa fa-edit"></i>
                <span class="hidden-xs">Edit</span>
            </a>

            <a class="btn btn-outline pull-right btn-save-page" type="button" ng-click="savePage()" ng-show="isEditing" ng-disabled="!iframeLoaded">

                <span>
                     <span class="hidden-xs" ng-if="!saveLoading"> Save </span>
                <span class="hidden-xs" ng-if="saveLoading"> Saving </span>
                <i class="fa fa-spinner fa-spin" ng-if="saveLoading"></i>
                </span>
            </a>
            <a ng-confirm-click class="btn btn-outline pull-right btn-cancel-page" type="button" style="margin-right:5px" confirmed-click="cancelPage()" ng-show="isEditing" ng-disabled="!iframeLoaded">
                <i class="fa fa fa-times"></i>
                <span class="hidden-xs">Cancel</span>
            </a>

            <a class="btn btn-outline pull-right media-modal hidden" on-insert-mediacb="insertMedia" user='user' data-main='true'>
                <i class="fa fa fa-image"></i>
                <span class="hidden-xs">Media</span>
            </a>

            <div class="clearfix"></div>
        </div>
    </div>

    <img ng-show="isMobile" src="https://s3-us-west-2.amazonaws.com/indigenous-admin/iphone-background.png">
    <div block-ui="editBlockUI">
        <iframe id="iframe-website" name="iframe-website" src="" ng-style="styleWebsite()" indigeweb-resize></iframe>
    </div>
    <div class="rightpanel rightpanel-website">
        <tabset>
            <tab>
                <tab-heading>
                    Settings
                </tab-heading>
                <div ng-if="!single_post" class="rightpanelinner">
                    <div class="form-group">
                        <label>Title:</label>
                        <input id="edit-page-title" class="form-control input-lg" type="text" ng-model="currentPage.title" ng-change="editPage()">
                    </div>
                    <div class="form-group" ng-hide="currentPage.handle == 'index'">
                        <label>URL:</label>
                        <input id="edit-page-url" class="form-control input-lg" type="text" ng-model="currentPage.handle" ng-change="editPage()">
                    </div>
                    <div class="form-group" ng-hide="currentPage.handle == 'index'">
                        <label>Show:</label>
                        <input bs-switch ng-model="currentPage.visible.visibility" type="checkbox" class="pull-right" ng-change="editPage()">
                    </div>
                    <div class="form-group">
                        <label>Secure:</label>
                        <input bs-switch ng-model="currentPage.secure" type="checkbox" class="pull-right" ng-change="editPage()">
                    </div>

                    <div class="mb20"></div>

                    <button class="btn btn-block btn-success" data-toggle="modal" data-target="#historical-page-modal"> Historical Pages</button>

                    <div class="mb20"></div>

                    <div class="well">
                        <p>Danger Zone</p>
                        <button class="btn btn-block btn-danger" confirm-click2 data-placement="top" data-ng-disabled="currentPage.handle==='index'" confirm-click2-confirm="deletePage()"><i class="fa fa-trash"></i> Delete Page</button>
                    </div>
                </div>
                <div ng-if="single_post" class="rightpanelinner">
                    <div class="form-group">
                        <label>Title:</label>
                        <input class="form-control input-lg" type="text" ng-model="post_data.post_title">
                    </div>
                    <div class="form-group">
                        <label>URL:</label>
                        <input class="form-control input-lg" type="text" ng-model="post_data.post_url">
                    </div>

                    <div class="mb20"></div>

                    <div class="well">
                        <p>Danger Zone</p>
                        <button class="btn btn-block btn-danger" confirm-click2 data-placement="top" confirm-click2-confirm="deletePost(post_data)"><i class="fa fa-trash"></i> Delete Post</button>
                    </div>
                </div>
            </tab>
        </tabset>
    </div>

    <div data-ng-include data-src="'angular_admin/views/partials/add-component-modal.html'"></div>

    <!-- Component Settings Modal -->
    <div class="modal" data-backdrop="false" id="component-setting-modal" tabindex="-1" role="dialog" indigeweb-draggable-modal aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-btns">
                        <a aria-hidden="true" class="close" data-dismiss="modal" type="button" style="margin-left: 15px;">Ã—</a>
                        <a aria-hidden="true" class="close" type="button" style="line-height: 24px;" ng-mouseenter="hover = true" ng-mouseleave="hover = false"><i class="fa fa-eye" style="font-size: 20px;"></i></a>
                    </div>
                    <h4 class="modal-title">{{(componentEditing.header_title || '') | htmlToPlaintext}} Settings</h4>
                </div>
                <div class="modal-body" style="padding:0;" ng-class="{hidden: hover}">
                    <tabset>
                        <tab>
                            <tab-heading>
                                <span>Basic</span>
                            </tab-heading>
                            <div class="righstpanelinner">
                                <div class="form-group">
                                    <label for="colorpicker">Text Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Text color of component."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="'hex'" options="spectrum.options" ng-model="componentEditing.txtcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                                    <label for="colorpicker">Active Text Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Nav bar Active menu color."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.activetxtcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <hr ng-show="!componentEditing.bg.img.show"/>
                                <div class="form-group" ng-if="componentEditing.type === 'navigation'">
                                    <label>Nav BG Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Background color of navigation bar."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="hex" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.bg" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                                    <label for="colorpicker">Nav Hover Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Nav bar menu hover color."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.hover" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="componentEditing.type == 'navigation'">
                                    <label for="colorpicker">Nav Hover BG Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Navigation bar on hover BG color."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.nav.hoverbg" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <div class="form-group" ng-if="componentEditing.type === 'pricing-tables'">
                                    <label>Pricing Table BG Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Background color of Pricing table."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="hex" options="spectrum.options" class="pull-right" ng-model="componentEditing.tblbgcolor" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <hr ng-show="componentEditing.type == 'navigation'"/>

                                <div class="form-group" ng-show="!componentEditing.bg.img.show" ng-hide="componentEditing.type == 'navigation' && componentEditing.version == 1">
                                    <label for="colorpicker">Background Color:</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="Background color of component."><i class="fa fa-info-circle" /></span>
                                    <div class="pull-right">
                                        <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                        <spectrum-colorpicker format="'hex'" options="spectrum.options" class="pull-right" ng-model="componentEditing.bg.color" ng-change="saveComponent()"></spectrum-colorpicker>
                                    </div>
                                </div>
                                <form class="form-horizontal" ng-show="!componentEditing.bg.img.show" ng-hide="componentEditing.type == 'navigation' && componentEditing.version == 1">
                                    <div class="row">
                                        <div class="col-sm-10">
                                            <label class="pull-left">Add BG Opacity</label>
                                        </div>
                                        <div class="col-sm-2">
                                            <select id="bg_opacity" ng-model="componentEditing.bg.opacity" ng-change="saveComponent()" class="pull-right form-control mb0">
                                                <option value="" disabled>%</option>
                                                <option value="10">10</option>
                                                <option value="20">20</option>
                                                <option value="30">30</option>
                                                <option value="40">40</option>
                                                <option value="50">50</option>
                                                <option value="60">60</option>
                                                <option value="70">70</option>
                                                <option value="80">80</option>
                                                <option value="90">90</option>
                                                <option value="100">100</option>
                                            </select>
                                        </div>
                                    </div>
                                </form>
                                <hr/>
                                <div class="form-group" ng-if="componentEditing.type != 'navigation' && componentEditing.type != 'top-bar'">
                                    <label for="bg_hide" class="mb0">Show Background Image</label>
                                    <span tooltip-placement="top" tooltip-html-unsafe="show/hide background image of component."><i class="fa fa-info-circle" /></span>
                                    <!-- <input id="bg_hide" bs-switch ng-model="componentEditing.bg.img.show" type="checkbox" class="pull-right" ng-change="removeImage(true);saveComponent()"> -->
                                    <label class="switch switch-green pull-right">
                                      <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.bg.img.show" ng-change="removeImage(true);saveComponent()">
                                      <span class="switch-label" data-on="On" data-off="Off"></span>
                                      <span class="switch-handle"></span>
                                    </label>
                                    <br>
                                    <small>Please select an image of 1280 x 400px minimum to prevent blurriness</small>
                                </div>
                                <div class="clearfix"></div>
                                <div class="row">
                                    <div class="col-xs-6">
                                        <div class="form-group add-image" ng-show="componentEditing.bg.img.show" ng-if="!componentEditing.bg.img.url">
                                            <div class="btn-wrap">
                                                <input id="abi" ng-model="componentEditing.bg.img.url" media-modal-show-insert="true" type="button" class="pull-right btn btn-primary" ng-model="componentEditing.bg.img.url" data-toggle="modal" data-target="#media-manager-modal" ng-change="saveComponent()" value="Add BG Image">
                                            </div>
                                        </div>
                                         <div class="bgimg" id="bgimg" ng-if="componentEditing.bg.img.url" ng-show="componentEditing.bg.img.show">
                                            <i class="fa fa-close" ng-click="removeImage(false)"></i>
                                            <img ng-src="{{componentEditing.bg.img.url}}" ng-model="componentEditing.bg.img.url" media-modal-show-insert="true" data-toggle="modal" data-target="#media-manager-modal" ng-change="saveComponent()" class="img-thumbnail">
                                        </div>
                                        <div class="clearfix mb10"></div>
                                        <div class="form-group" ng-if="componentEditing.type == 'masthead'" ng-show="componentEditing.bg.img.show">
                                            <label for="bg_position">Background Position</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Set Background image position."><i class="fa fa-info-circle" /></span>
                                            <!-- <select id="bg_position" ng-model="componentEditing.bg.img.position" ng-change="saveComponent()" class="form-control input-lg">
                                                <option value="center">Center</option>
                                                <option value="left">Left</option>
                                                <option value="right">Right</option>
                                            </select> -->
                                            <div class="clearfix"></div>
                                            <label class="radio-inline">
                                              <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="left" ng-model="componentEditing.bg.img.position"> Left
                                            </label>
                                            <label class="radio-inline">
                                              <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="right" ng-model="componentEditing.bg.img.position"> Right
                                            </label>
                                            <label class="radio-inline">
                                              <input type="radio" name="inlineRadioOptions" id="inlineRadio3" value="center" ng-model="componentEditing.bg.img.position"> Center
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="form-group" ng-show="componentEditing.bg.img.show" ng-if="componentEditing.type != 'navigation'">
                                            <label for="bg_blur">Blur BG</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Add/remove blur effect to background image."><i class="fa fa-info-circle" /></span>
                                            <label class="switch switch-green pull-right">
                                              <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.bg.img.blur" ng-change="saveComponent()">
                                              <span class="switch-label" data-on="On" data-off="Off"></span>
                                              <span class="switch-handle"></span>
                                            </label>
                                        </div>

                                        <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.show">
                                            <label for="bg_parallax" ng-if="componentEditing.type != 'navigation'">Parallax:</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Add/remove Parallax to background image."><i class="fa fa-info-circle" /></span>
                                            <label class="switch switch-green pull-right">
                                              <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.bg.img.parallax" ng-change="saveComponent()">
                                              <span class="switch-label" data-on="On" data-off="Off"></span>
                                              <span class="switch-handle"></span>
                                            </label>
                                        </div>
                                        <div class="form-group" ng-show="componentEditing.bg.img.show">
                                            <label for="bg_overlay">Under Nav</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Make Masthead go underneath nav."><i class="fa fa-info-circle" /></span>
                                            <label class="switch switch-green pull-right">
                                              <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.bg.img.undernav" ng-change="saveComponent()">
                                              <span class="switch-label" data-on="On" data-off="Off"></span>
                                              <span class="switch-handle"></span>
                                            </label>
                                        </div>
                                        <hr ng-show="componentEditing.bg.img.show"></hr>
                                        <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.show">
                                            <label for="bg_overlay">Add Overlay</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Add/remove Overlay to background image."><i class="fa fa-info-circle" /></span>
                                            <label class="switch switch-green pull-right">
                                              <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.bg.img.overlay" ng-change="saveComponent()">
                                              <span class="switch-label" data-on="On" data-off="Off"></span>
                                              <span class="switch-handle"></span>
                                            </label>
                                        </div>
                                        <div class="form-group" ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.overlay">
                                            <label for="bg_overlay_color">Overlay Color</label>
                                            <span tooltip-placement="top" tooltip-html-unsafe="Add color to Overlay effect."><i class="fa fa-info-circle" /></span>
                                            <div class="pull-right">
                                                <h4 class="pull-left"><i class="fa fa-eyedropper" /></h4>
                                                <spectrum-colorpicker format="rgba" options="spectrum.options" class="pull-right" ng-model="componentEditing.bg.img.overlaycolor" ng-change="saveComponent()"></spectrum-colorpicker>
                                            </div>
                                        </div>
                                        <div ng-if="componentEditing.type != 'navigation'" ng-show="componentEditing.bg.img.overlay">
                                            <div class="row">
                                                <div class="col-xs-8">
                                                    <label for="bg_overlay_opacity">Overlay Opacity</label>
                                                    <span tooltip-placement="top" tooltip-html-unsafe="Set Overlay opacity."><i class="fa fa-info-circle" /></span>
                                                </div>
                                                <div class="col-xs-4">
                                                    <select id="bg_overlay_opacity" ng-model="componentEditing.bg.img.overlayopacity" ng-change="saveComponent()" class="pull-right form-control mb0">
                                                        <option value="10">10</option>
                                                        <option value="20">20</option>
                                                        <option value="30">30</option>
                                                        <option value="40">40</option>
                                                        <option value="50">50</option>
                                                        <option value="60">60</option>
                                                        <option value="70">70</option>
                                                        <option value="80">80</option>
                                                        <option value="90">90</option>
                                                        <option value="100">100</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="clearfix mb15"></div>
                            </div>
                        </tab>
                        <tab>
                            <tab-heading>
                                <span>Advanced</span>
                            </tab-heading>
                            <div class="form-group">
                                <label for="colorpicker">Visibility:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Show/hide component."><i class="fa fa-info-circle" /></span>
                                <label class="switch switch-green pull-right">
                                  <input type="checkbox" class="switch-input" checked="" ng-model="componentEditing.visibility" ng-change="saveComponent()">
                                  <span class="switch-label" data-on="On" data-off="Off"></span>
                                  <span class="switch-handle"></span>
                                </label>
                            </div>
                            <hr ng-if="componentEditing.type != 'navigation'"></hr>
                            <div class="form-group" ng-if="componentEditing.type != 'navigation'">
                                <label for="component-title" tooltip-placement="top" tooltip="The anchor of the component">Anchor</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="The anchor of the component."><i class="fa fa-info-circle" /></span>
                                <input class="form-control input-lg" type="text" ng-model="componentEditing.anchor" ng-change="saveComponent()">
                            </div>
                            <hr></hr>
                            <div class="form-group">
                                <label for="component-title">Version</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="The version of the component."><i class="fa fa-info-circle" /></span>
                                <select ng-model="componentEditing.version" ng-change="saveComponent()" ng-options="version for version in componentEditingVersions" class="form-control input-lg mb0">
                                </select>

                            </div>
                            <hr ng-if="componentEditing.type == 'image-text'"></hr>
                            <div class="form-group" ng-if="componentEditing.type == 'image-text'">
                                <label for="colorpicker">Image Position:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set image position to left/right."><i class="fa fa-info-circle" /></span>
                                <select ng-model="componentEditing.imagePosition" ng-change="saveComponent(true)" class="form-control input-lg">
                                    <option value="left">Left</option>
                                    <option value="right">Right</option>
                                </select>
                            </div>
                            <hr ng-if="componentEditing.type == 'simple-form'"></hr>
                            <div class="form-group" ng-if="componentEditing.type == 'simple-form'">
                                <label for="from_email" tooltip-placement="top" tooltip="From email address">From Email</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="From email address."><i class="fa fa-info-circle" /></span>
                                <input id="from_email" class="form-control input-lg" type="text" ng-model="componentEditing.from_email">
                            </div>
                        </tab>
                        <tab ng-if="componentEditing.type === 'navigation'" id="linksTab">
                            <tab-heading>
                                <span>Links</span>
                            </tab-heading>
                            <div>
                                <p class="col-xs-9" style="padding-left:0;">Drag and Drop your links to rearrange them.</p>
                                <a href="" class="col-xs-3" style="text-align: right;padding: 0;"><span class="fa fa-plus"></span> Add Link</a>
                            </div>
                            <div class="clearfix"></div>
                            <div id="reorderNavBarContainer" class="form-group" onmouseover="$('#component-setting-modal').removeAttr('indigeweb-draggable-modal')" onmouseout="$('#component-setting-modal').attr('indigeweb-draggable-modal', '')">
                                <ul as-sortable="sortableOptions" ng-model="mainMenu.links" class="nav-bar" data-ng-repeat="mainMenu in website.linkLists track by $index" data-ng-if="mainMenu.handle=='head-menu' ">

                                    <li data-ng-repeat="link in mainMenu.links" as-sortable-item class="mb10">
                                        <div class="head-menu-links" data-label="{{link.label}}">
                                            <div class="container-fluid">
                                                <div class="col-xs-1">
                                                    <h4>
                                                        <span data-as-sortable-item-handle class="fa fa-arrows"></span>
                                                    </h4>
                                                </div>
                                                <div class="col-xs-9" style="padding-left:0;">
                                                    <h4 ng-show="!edit[$index]">
                                                        {{link.label}}
                                                    </h4>
                                                    <input ng-blur="updateLinkList()" ng-show="edit[$index]" type="text" ng-model="link.label" class="form-control" style="margin-top: 10px;">
                                                </div>
                                                <div class="col-xs-2">
                                                    <h4>
                                                        <i class="fa fa-trash-o pull-right" ng-hide="edit[$index]" ng-click="deleteLinkFromNav($index);" style="margin-top: 3px;"></i>
                                                        <i ng-show="!edit[$index]" class="fa fa-pencil-square-o pull-right" ng-click="edit[$index]=true" style="margin-top: 3px;"></i>
                                                        <i ng-show="edit[$index]" class="fa fa-times pull-right" ng-click="edit[$index]= false" style="margin-top: 3px;"></i>
                                                    </h4>
                                                </div>
                                                <div class="col-xs-12" ng-show="edit[$index]">
                                                    <div class="clearfix mb5"></div>
                                                    <p class="mb0">Link To:</p>
                                                    <div class="radio-inline">
                                                        <label for="inlineRadioOptions-{{$index}}" class="pull-right">Page</label>
                                                        <input type="radio" name="inlineRadioOptions[$index]" id="inlineRadio1" ng-click="linkType[$index] = 'page'" ng-value="{{link.linkTo.type == 'page'}}">
                                                    </div>
                                                    <div class="radio-inline">
                                                        <label for="inlineRadioOptions-{{$index}}" class="pull-right">Component</label>
                                                        <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio2" ng-click="linkType[$index] = 'component'" ng-model="link.linkTo.type" value="component" ng-checked="{{link.linkTo.type == 'component'}}">
                                                    </div>
                                                    <div class="radio-inline">
                                                        <label for="inlineRadioOptions-{{$index}}" class="pull-right">External</label>
                                                        <input type="radio" name="inlineRadioOptions-{{$index}}" id="inlineRadio3" ng-click="linkType[$index] = 'external'" ng-model="link.linkTo.type" value="external" ng-checked="{{link.linkTo.type == 'external'}}">
                                                    </div>
                                                    <div class="clearfix mb10"></div>
                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <select id="linkSection" style="text-transform:capitalize" ng-if="linkType[$index]=='component'" ng-model="newLink.linkUrl" ng-change="setLinkUrl()" class="form-control input-lg mb0">
                                                                <option value="" disabled>Select a Component</option>
                                                                <option ng-repeat="component in currentPage.components track by $index" data-ng-if="component.anchor" value="{{component.anchor}}">{{setLinkTitle(component.type, $index)}}</option>
                                                            </select>
                                                            <select ng-if="linkType[$index]=='page'" ng-model="newLink.linkPage" class="form-control input-lg mb0">
                                                                <option value="" disabled>Select a Page</option>
                                                                <option ng-repeat="page in allPages track by $index" data-ng-if="page.title && page.handle" value="{{page.handle}}" ng-selected="{{link.label == page.title}}">{{page.title}}</option>
                                                            </select>
                                                            <input class="form-control input-lg" type="text" ng-if="linkType[$index]=='external'" ng-model="newLink.linkUrl " placeholder="Enter External URL">
                                                        </div>
                                                    </div>
                                                    <div class="clearfix mb10"></div>
                                                </div>
                                            </div>

                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- <div class="footer hidden">

                                <div class="row form-group">
                                    <div class="pull-left switch-navadd col-xs-12 col-sm-6 col-md-4">
                                        <input bs-switch switch-size="large" ng-model="addNavigationLink" type="checkbox" switch-label="Add Link" ng-change="initializeLinks()">
                                    </div>
                                </div>
                                <div class="row form-group">
                                    <div class="input-group pull-left" style="margin-left: 10px;" ng-if="addNavigationLink">
                                        <select id="linkSection" style="text-transform:capitalize" ng-if="addLinkType=='section'" ng-model="newLink.linkUrl" ng-change="setLinkUrl()" class="form-control input-lg">
                                            <option ng-repeat="component in currentPage.components track by $index" data-ng-if="component.anchor" value="{{component.anchor}}">{{setLinkTitle(component.type, $index)}}</option>
                                        </select>
                                        <select ng-if="addLinkType=='page'" ng-model="newLink.linkPage" class="form-control input-lg">
                                            <option ng-repeat="page in allPages track by $index" data-ng-if="page.title && page.handle" value="{{page.handle}}">{{page.title}}</option>
                                        </select>
                                        <div class="input-group-btn dropup">
                                            <button type="button" class="btn btn-default dropdown-toggle input-lg" data-toggle="dropdown" aria-expanded="false">
                                                <span ng-if="addLinkType=='page'">To Page</span>
                                                <span ng-if="addLinkType=='section'">To Section</span>
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                                                <li>
                                                    <a ng-click="setLinkType('page')">Link to page</a>
                                                </li>
                                                <li class="divider"></li>
                                                <li>
                                                    <a ng-click="setLinkType('section')">Link to section</a>
                                                </li>
                                            </ul>
                                        </div>
                                        <button type="button" ng-click="addLinkToNav();" class="btn btn-primary pull-right">Add</button>
                                    </div>
                                </div>

                            </div> -->
                        </tab>
                        <tab active="tabs.hours" ng-if="componentEditing.type === 'contact-us'">
                            <tab-heading>
                                <span>Hours</span>
                            </tab-heading>

                            <div class="form-group">
                                <label for="show-hours">Show Business Hours</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Show/hide business hours to contact us component."><i class="fa fa-info-circle" /></span>
                                <input id="show-hours" bs-switch ng-model="componentEditing.showHours" type="checkbox" class="pull-right" ng-change="saveComponent()">
                            </div>
                            <div class="form-group" ng-if="componentEditing.showHours">
                            <label for="split-hours">I'd like to enter two sets of hours for a single day</label>
                            <span tooltip-placement="top" tooltip-html-unsafe="Are your hours split during a single day such as 9-11am and 7-10pm?"><i class="fa fa-info-circle" /></span>
                            <input id="splitHours" bs-switch ng-model="componentEditing.splitHours" type="checkbox" class="pull-right" ng-change="saveComponent()">
                        </div>
                        <div class="form-group" ng-if="componentEditing.showHours">
                            <label for="location-hours">Business Hours </label>
                            <span tooltip-placement="top" tooltip-html-unsafe="Contact Us business hours."><i class="fa fa-info-circle" /></span>

                            <div ng-if="componentEditing.splitHours" class="col-xs-12 multiple-hours" ng-repeat="val in componentEditing.hours">
                                <label class="col-xs-1" for="val.day">{{val.day}}:</label>
                                <select class="col-xs-2" ng-hide="val.closed" class="chosen-select hour-start-select" ng-model="val.start" ng-options="item for item in hours.HOURS">
                                </select>
                                <select class="col-xs-2" ng-hide="val.closed" class="chosen-select hour-start-select" ng-model="val.end" ng-options="item for item in hours.HOURS">
                                </select>
                                <label class="pull-left" ng-hide="val.closed" ng-if="val.split" style="margin:10px" > & </label>
                                <select class="col-xs-2" ng-hide="val.closed" ng-if="val.split" class="chosen-select hour-start-select" ng-model="val.start2" ng-options="item for item in hours.HOURS">
                                </select>
                                <select class="col-xs-2" ng-if="val.split" ng-hide="val.closed" class="chosen-select hour-start-select" ng-model="val.end2" ng-options="item for item in hours.HOURS">
                                </select>
                                <label style="min-width:80px;" class="col-xs-1" for="colorpicker">Closed:</label>
                                <input class="pull-left" ng-model="val.closed" type="checkbox">
                                <label style="min-width:80px;" class="col-xs-1" for="split" ng-hide="val.closed">Split:</label>
                                <input id="split" class="pull-left" ng-model="val.split" type="checkbox" ng-hide="val.closed">
                            </div>
                            <div ng-if="!componentEditing.splitHours" class="col-xs-12" ng-repeat="val in componentEditing.hours">
                                <label class="col-xs-1" for="val.day">{{val.day}}:</label>
                                <select class="col-xs-3" ng-hide="val.closed" class="chosen-select hour-start-select" ng-model="val.start" ng-options="item for item in hours.HOURS">
                                </select>
                                <select class="col-xs-3" ng-hide="val.closed" class="chosen-select hour-start-select" ng-model="val.end" ng-options="item for item in hours.HOURS">
                                </select>
                                <label class="col-xs-2" for="colorpicker">Closed:</label>
                                <input class="" ng-model="val.closed" type="checkbox">
                            </div>

                        </div>
                        </tab>

                        <tab active="tabs.address" ng-if="componentEditing.type === 'contact-us'">
                            <tab-heading>
                                <span>Address</span>
                            </tab-heading>
                            <div class="form-group">
                                <label for="location-address">Address </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us address line 1."><i class="fa fa-info-circle" /></span>
                                <input id="location-address" class="form-control input-lg" type="text" ng-model="componentEditing.location.address" ng-blur="updateContactUsAddress()">
                            </div>
                            <div class="form-group">
                                <label for="location-address2">Address2 </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us address line 2."><i class="fa fa-info-circle" /></span>
                                <input id="location-address2" class="form-control input-lg" type="text" ng-model="componentEditing.location.address2" ng-blur="updateContactUsAddress()">
                            </div>

                            <div class="form-group">
                                <label for="location-city">City </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us City."><i class="fa fa-info-circle" /></span>
                                <input id="location-city" class="form-control input-lg" type="text" ng-model="componentEditing.location.city" ng-blur="updateContactUsAddress()">
                                <div class="error"></div>
                            </div>
                            <div class="form-group">
                                <label for="location-state">State </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us State."><i class="fa fa-info-circle" /></span>
                                <input id="location-state" class="form-control input-lg" type="text" ng-model="componentEditing.location.state" ng-blur="updateContactUsAddress()">
                                <div class="error"></div>
                            </div>
                            <div class="form-group">
                                <label for="location-zip">Zip Code </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us zip code."><i class="fa fa-info-circle" /></span>
                                <input id="location-zip" validation-type="zip" indigeweb-validate-form-fields class="form-control input-lg" type="text" ng-model="componentEditing.location.zip" ng-blur="updateContactUsAddress()">
                            </div>
                            <div class="form-group">
                                <label for="contact-phone">Phone number </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Contact Us Phone number."><i class="fa fa-info-circle" /></span>
                                <input id="contact-phone" validation-type="phone" indigeweb-validate-form-fields class="form-control input-lg" type="text" ng-model="componentEditing.contact.phone" ng-blur="updateContactUsAddress()">
                            </div>
                        </tab>
                        <tab ng-if="componentEditing.type === 'simple-form'">
                            <tab-heading>
                                <span>Fields</span>
                            </tab-heading>
                            <div class="form-group" ng-repeat="field in componentEditing.fields">
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" id="chk_{{field.name}}" ng-model="field.value" ng-change="saveComponent()" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="chk_{{field.name}}">{{field.display}}</label>
                                </div>
                            </div>
                        </tab>

                        <tab ng-if="componentEditing.type === 'video'">
                            <tab-heading>
                                <span>Video</span>
                            </tab-heading>
                            <div class="form-group">
                                <label for="member-name">Video Type:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Select video type."><i class="fa fa-info-circle" /></span>
                                <select id="member-name" class="form-control input-lg" ng-model="componentEditing.videoType">
                                    <option value="youtube">YouTube</option>
                                    <option value="vimeo">Vimeo</option>
                                    <option value="html5">Html4 Video</option>
                                </select>
                            </div>
                            <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                                <label for="member-name">Video URL:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add video URL."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.video">
                            </div>
                            <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                                <label for="member-name">Mp4 Url:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add Mp4 video URL."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.videoMp4">
                            </div>
                            <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                                <label for="member-name">Webm Url:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add Webm video URL."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.videoWebm">
                            </div>
                            <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                                <label for="colorpicker">Auto Play:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set auto play video"><i class="fa fa-info-circle" /></span>
                                <input bs-switch ng-model="componentEditing.videoAutoPlay" type="checkbox" class="pull-right">
                            </div>
                            <div class="form-group" ng-show="componentEditing.videoType == 'youtube'">
                                <label for="colorpicker">Controls:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Show/hide video player controls."><i class="fa fa-info-circle" /></span>
                                <input bs-switch ng-model="componentEditing.videoControls" type="checkbox" class="pull-right">
                            </div>
                            <div class="form-group" ng-show="componentEditing.videoType == 'youtube'">
                                <label for="colorpicker">Branding:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Youtube video branding."><i class="fa fa-info-circle" /></span>
                                <input bs-switch ng-model="componentEditing.videoBranding" type="checkbox" class="pull-right">
                            </div>
                            <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                                <label for="member-name">Optional Width:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set video width."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.videoWidth">
                            </div>
                            <div class="form-group" ng-hide="componentEditing.videoType == 'html5'">
                                <label for="member-name">Optional Height:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set video height."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.videoHeight">
                            </div>
                            <div class="form-group" ng-show="componentEditing.videoType == 'html5'">
                                <label for="member-name">Start Video Image Url:</label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Set start video image URL."><i class="fa fa-info-circle" /></span>
                                <input id="member-name" class="form-control input-lg" type="text" ng-model="componentEditing.videoImage">
                            </div>
                        </tab>
                        <tab active="tabs.address" ng-if="componentEditing.type === 'top-bar'">
                            <tab-heading>
                                <span>Top Bar Info</span>
                            </tab-heading>
                            <div class="form-group">
                                <label for="top-bar-hours">Business Hours </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add business hours to topbar."><i class="fa fa-info-circle" /></span>
                                <input id="top-bar-hours" class="form-control input-lg" type="text" ng-model="componentEditing.businessHours">
                            </div>
                            <div class="form-group">
                                <label for="top-bar-phone">Phone number </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add Phone number to topbar."><i class="fa fa-info-circle" /></span>
                                <input id="top-bar-phone" validation-type="phone" indigeweb-validate-form-fields class="form-control input-lg" type="text" ng-model="componentEditing.phone">
                            </div>
                            <div class="form-group">
                                <label for="top-bar-email">Email </label>
                                <span tooltip-placement="top" tooltip-html-unsafe="Add Email to topbar."><i class="fa fa-info-circle" /></span>
                                <input id="top-bar-email" class="form-control input-lg" type="text" ng-model="componentEditing.email">
                            </div>

                        </tab>


                    </tabset>
                </div>
                <div class="modal-footer">
                    <div class="form-group row mb0">
                        <button type="button" class="btn btn-orange pull-right" data-dismiss="modal">
                            Done
                        </button>
                        <button type="button" ng-click="revertComponent()" class="btn btn-green pull-right" data-dismiss="modal" style="margin-right:5px;">
                            Revert
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.modal -->

    <div data-ng-include data-src="'angular_admin/views/partials/historical-page-modal.html'"></div>

    <div id="model_container"></div>

</div>
