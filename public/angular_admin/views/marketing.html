<toaster-container toaster-options="{'time-out': 3000, 'close-button':true}"></toaster-container>
<div class="marketing">

    <div class="pageheader row">
        <div class="col-xs-8">
            <h2><i class="fa fa-bullhorn"></i>  Marketing</h2>
        </div>
        <div class="col-xs-4">
            <div class="btn-group pull-right btn-add" ng-show="!isEditing" style="margin-right: 10px;">
                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-plus"></i>
                    <span class="hidden-xs">Add</span>
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="" data-toggle="modal" data-target="#marketing-add-campaign"> Campaign</a>
                    </li>
                    <li><a href="" data-toggle="modal" data-target="#marketing-add-feed"> Social Feed</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="clear"></div>
    </div>

    <div class="col-xs-12 nopadding header-menu-row">
        <div class="btn-group col-xs-12 template-btns nopadding mb0">
            <button type="button" class="btn btn-default btn-lg col-xs-6 tooltips" ng-class="{'active': activeTab === 'social-feed'}" ng-click="activeTab = 'social-feed'">
                <div tooltip-placement="bottom" tooltip-html-unsafe="Who is visiting your site?">
                    <i class="fa fa-newspaper-o"></i>
                    <span class="hidden-xs">Social Feed</span>
                </div>
            </button>
            <button type="button" class="btn btn-default btn-lg col-xs-6" ng-class="{'active': activeTab === 'campaigns'}" ng-click="activeTab = 'campaigns'">
                <div tooltip-placement="bottom" tooltip-html-unsafe="What are customers doing?">
                    <i class="fa fa-flag"></i>
                    <span class="hidden-xs">Campaigns
                </div>
                </span>
            </button>
            </div>
        </div>

        <div class="contentpanel" ng-style="styleMarketingSection()" indigeweb-resize>
            <div class="campaign-section" ng-show="activeTab == 'campaigns'">
                <div class="col-xs-12 col-sm-4" ng-repeat="campaign in campaigns track by $index">
                    <div class="grid-list-item btn-view-product-details" data-productid="1">
                        <a href="#/marketing/campaign/{{campaign._id}}">
                            <div class="col-xs-12">
                                <h4 class="title center">{{campaign.title}}</h4>
                                <hr class="clearfix mb15">
                                <div class="campaign-stats">
                                    <div class="status" ng-if="campaignSettings.showStatus">
                                        Status: <span class="data">{{campaign.status}}</span>
                                    </div>
                                    <div class="type" ng-if="campaignSettings.showType">
                                        Type: <span class="data">{{campaign.type}}</span>
                                    </div>
                                    <div class="conversions" ng-if="campaignSettings.showContacts">
                                        Contacts: <span class="data">{{campaign.contacts}}</span>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <div class="clearfix"></div>
                    </div>
                </div>

                <div ng-if="campaigns.length <= 0" class="empty">
                    <h1 class="center"><span class="fa fa-flag-o"></span></h1>
                    <h2 class="center">No Campaigns Yet</h2>
                    <h3 class="center">Add campaign for them to appear here.</h3>
                </div>
            </div>
            <div class="social-feed-section" ng-show="activeTab == 'social-feed'">
                <!-- <div ng-if="feed.length <= 0" class="empty">
                    <h1 class="center"><span class="fa fa-newspaper-o"></span></h1>
                    <h2 class="center">No Feeds Setup</h2>
                    <h3 class="center">Add a Feed to get set up.</h3>
                </div> -->
                <div class="col-sm-3 stream-filter">
                    <div class="toolbar hidden">
                        <ul id="filter" class="option-set filter">
                            <li><a href="" data-group="filter" data-filter="*" class="link-all" ng-click="filterFeed('all')">all</a>
                            </li>
                            <li class="active {{feedType.type}}" ng-repeat="feedType in feedTypes">
                                <a href="" rel="{{feedType.type}}" data-group="filter" data-filter=".{{feedType.type}}" ng-click="filterFeed(feedType.type)">
                                    <i class="fa fa-{{feedType.type}}"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <accordion close-others="oneAtATime" class="hidden">
                        <accordion-group is-open="type.open" disabled="disabled">
                            <accordion-heading>
                                <div class="pull-left">
                                    <input type="checkbox" name="all" class="pull-left" checked="checked">
                                    <h4 class="filter-heading pull-left">All Networks</h4>
                                </div>
                            </accordion-heading>
                        </accordion-group>
                        <accordion-group is-open="type.open" ng-repeat="type in feedTypes">
                            <accordion-heading>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="all" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="all"></label>
                                </div>
                                <img src="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_400x400.png" class="avatar pull-left" />
                                <div class="pull-left">
                                    <h4 class="filter-heading">Indigenous</h4>
                                    <p class="filter-text">{{type}}</p>
                                </div>
                                <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
                                <div class="clearfix"></div>
                            </accordion-heading>
                            <!-- TWITTER -->
                            <!-- <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="mentions" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="mentions">Mentions</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="retweets" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="retweets">Retweets</label>
                                    <hr></hr>
                                </div> -->
                            <div class="col-xs-12 ckbox ckbox-success" ng-if="type == 'twitter'">
                                <input type="checkbox" name="tweets" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="tweets">Tweets</label>
                                <hr></hr>
                            </div>
                            <div class="col-xs-12 ckbox ckbox-success" ng-if="type == 'twitter'">
                                <input type="checkbox" name="followers" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="followers">Followers</label>
                                <hr></hr>
                            </div>
                            <!--  <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-inbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-inbox">DM Inbox</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-outbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-outbox">DM Outbox</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-outbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-outbox">Scheduled</label>
                                    <hr></hr>
                                </div> -->

                            <!-- FACEBOOK -->

                            <div class="col-xs-12 ckbox ckbox-success" ng-if="type == 'facebook'">
                                <input type="checkbox" name="likes" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="likes">Likes</label>
                                <hr></hr>
                            </div>
                            <div class="col-xs-12 ckbox ckbox-success" ng-if="type == 'facebook'">
                                <input type="checkbox" name="posts" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="posts">Posts</label>
                                <hr></hr>
                            </div>
                        </accordion-group>
                    </accordion>


                    <accordion>
                        <accordion-group is-open="item.open" ng-repeat="type in feedTypes">
                            <accordion-heading>
                                <input type="checkbox" class="pull-left glyphicon" ng-click="filterFeed(type, $event)" checked="checked"/>{{type}}
                                <img src="https://abs.twimg.com/sticky/default_profile_images/default_profile_2_400x400.png" class="avatar pull-left" />
                                <span class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': item.open, 'glyphicon-chevron-down': !item.open}"></span>
                                <div class="clearfix"></div>
                            </accordion-heading>
                            <!--  <div ng-repeat="data in item.content">
                                        <input type="checkbox" class="pull-left glyphicon" ng-click="filterSubitemClick(data, item.title, $event)" ng-checked="master" value="{{data}}" />{{data}}
                                    </div> -->
                            <!-- TWITTER -->
                            <!-- <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="mentions" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="mentions">Mentions</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="retweets" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="retweets">Retweets</label>
                                    <hr></hr>
                                </div> -->
                            <div class="col-xs-12" ng-if="type == 'twitter'">
                                <input type="checkbox" name="tweets" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="tweets">Tweets</label>
                                <hr></hr>
                            </div>
                            <div class="col-xs-12" ng-if="type == 'twitter'">
                                <input type="checkbox" name="followers" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="followers">Followers</label>
                                <hr></hr>
                            </div>
                            <!--  <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-inbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-inbox">DM Inbox</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-outbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-outbox">DM Outbox</label>
                                    <hr></hr>
                                </div>
                                <div class="col-xs-12 ckbox ckbox-success">
                                    <input type="checkbox" name="dm-outbox" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                    <label for="dm-outbox">Scheduled</label>
                                    <hr></hr>
                                </div> -->

                            <!-- FACEBOOK -->

                            <div class="col-xs-12" ng-if="type == 'facebook'">
                                <input type="checkbox" name="likes" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="likes">Likes</label>
                                <span class="pull-right label label-primary">14</span>
                                <hr></hr>
                            </div>
                            <div class="col-xs-12" ng-if="type == 'facebook'">
                                <input type="checkbox" name="posts" class="ng-pristine ng-untouched ng-valid" checked="checked">
                                <label for="posts">Posts</label>
                                <span class="pull-right label label-primary">{{fbPostsLength}}</span>
                                <hr></hr>
                            </div>
                        </accordion-group>
                    </accordion>

                </div>
                <div ng-if="feed.length > 0" class="col-sm-9">
                    <ul class="stream">
                        <li ng-repeat="post in displayedFeed track by $index | orderBy: 'date':true" class="col-sm-4 mb20">
                            <div ng-if="post.type == 'facebook'">
                                <div class="post-inner">
                                    <div class="post-content">
                                        <img src="{{post.picture}}">
                                        <!-- <pre>{{post}}</pre> -->
                                    </div>
                                    <div class="post-bottom-bar {{post.type}}">
                                        <i class="fa fa-{{post.type}} pull-left"></i>
                                        <span>Posted {{post.date | timeAgoFilter}}</span>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="post.type == 'twitter' && post.postType == 'tweet'">
                                <div class="post-inner">
                                    <div class="post-content">
                                        {{post.message}}
                                        <!-- <pre>{{post}}</pre> -->
                                    </div>
                                    <div class="post-bottom-bar {{post.type}}">
                                        <i class="fa fa-{{post.type}} pull-left"></i>
                                        <span>Tweeted {{post.date | timeAgoFilter}}</span>
                                    </div>
                                </div>
                            </div>
                            <div ng-if="post.type == 'twitter' && post.postType == 'follower'">
                                <div class="post-inner">
                                    <div class="post-content">
                                        <img class="img-thumbnail img-circle center" src="{{post.from.profileimg}}">
                                        <h4 class="center">{{post.from.name}}</h4>
                                        <!-- <p>{{post.from.description}}</p> -->
                                        <!-- <pre>{{post}}</pre> -->
                                    </div>
                                    <div class="post-bottom-bar {{post.type}}">
                                        <i class="fa fa-{{post.type}} pull-left"></i>
                                        <span>Followed {{post.date | timeAgoFilter}}</span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="rightpanel">
            <div class="rightpanel rightpanel-marketing">
                <ul class="nav nav-tabs nav-justified">
                    <li class="active"><a href="#" data-toggle="tab">Settings</a>
                    </li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane pane-settings active" id="rp-settings">
                        <h4>No Settings Avaliable</h4>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="modal fade" id="marketing-add-campaign">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Add New Campaign</h4>
                </div>
                <div class="modal-body">


                    <form role="form">
                        <div class="form-group">
                            <label for="productName">Campaign Name</label>
                            <input type="text" class="form-control input-lg" id="campaignName" placeholder="Enter a name for your campaign" ng-model='newCampaign.title' />
                        </div>
                        <div class="form-group">
                            <label for="campaignType">Campaign Type</label>
                            <select id="campaignType" ng-model="newCampaign.type" class="form-control input-lg">
                                <option value="autoresponder">AutoResponder</option>
                                <!-- <option value="one_time" disabled="">One Time</option>
                                <option value="webinar">Webinar</option>
                                <option value="date_based" disabled="">Date Based</option>
                                <option value="custom" disabled="">Custom</option> -->
                            </select>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addCampaignFn()"><i class="fa fa-plus" /> Add</button>
                </div>
            </div>
        </div>
    </div>
