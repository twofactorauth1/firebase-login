<ssb-navigation-component-css-loader component="component"></ssb-navigation-component-css-loader>
<div ng-class="component.type+'-v'+component.version" data-color="component.txtcolor" class="nav-header-{{component._id}}">
    <div id="header">
        <nav class="navbar navbar-default" ng-class="{'navbar-box':component.shownavbox, 'navbgcolor' : !(component.bg.img.show && component.bg.img.url) }" role="navigation">
            <div class="container"> <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-{{navbarId}}">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div ng-if="isEditing" class="navbar-brand" data-name="{{account.company.name}}" style="margin:{{component.logo.margin.t}} {{component.logo.margin.r}} {{component.logo.margin.b}} {{component.logo.margin.l}}!important;padding:{{component.logo.padding}};">
                        <span class="logo-1">
                                <div class="nav-logo">
                                    <div ng-if="!isSinglePost" elem ng-model="component.logo" class="navigation-logo"></div>
                                    <div ng-if="isSinglePost" class="navigation-logo" tooltip-placement="bottom" tooltip="This component is only editable on the single-post page" ng-bind-html="component.logo | unsafe"></div>
                                </div>
                                <span data-ng-show="layout && !account.business.logo" ><convert-html contents="{{account.business.name}}">  </convert-html> </span>
                        <span data-ng-show="blog && !account.business.logo"><convert-html contents="{{account.business.name}}">  </convert-html> </span>
                        </span>
                    </div>
                    <a ng-if="!isEditing" class="navbar-brand" href="/" data-name="{{account.company.name}}" style="margin:{{component.logo.margin.t}} {{component.logo.margin.r}} {{component.logo.margin.b}} {{component.logo.margin.l}}!important;padding:{{component.logo.padding}};">
                        <span class="logo-1">
                                <div class="nav-logo">
                                    <div ng-if="!isSinglePost" elem ng-model="component.logo" class="navigation-logo"></div>
                                    <div ng-if="isSinglePost" class="navigation-logo" tooltip-placement="bottom" tooltip="This component is only editable on the single-post page" ng-bind-html="component.logo | unsafe"></div>
                                </div>
                                <span data-ng-show="layout && !account.business.logo" ><convert-html contents="{{account.business.name}}">  </convert-html> </span>
                        <span data-ng-show="blog && !account.business.logo"><convert-html contents="{{account.business.name}}"></convert-html> </span>
                        </span>
                    </a>
                </div> <!-- Collect the nav links, forms, and other content for toggling -->
                <div  ng-if="!component.customnav" class="collapse navbar-collapse" id="bs-example-navbar-collapse-{{navbarId}}">
                    <ul ng-class="{'nav-font-size':component.nav.font.size, 'nav-font-family':component.nav.font.family, 'nav-align': component.nav.align, 'nav-mixed-case': component.nav.allowMixedCase}" class="nav navbar-nav navbar-right" data-ng-repeat="mainMenu in website.linkLists " data-ng-if=" mainMenu.handle=='head-menu' " data-edit="{ 'type': 'component' }">
                        <li  ng-class="{'nav-font-size':component.nav.font.size, 'nav-font-family':component.nav.font.family, 'sub-nav-parent-menu': alink.linkTo.type == 'sub-nav', 'activeLink' :alink.linkTo.data==currentpage.handle }"  data-ng-repeat="alink in mainMenu.links ">
                            <ssb-navigation-component-loader currentpagehandle="currentpage.handle" link="alink"  is-sub-link="false" ></ssb-navigation-component-loader>
                            <div ng-if="alink.links && alink.links.length>0">
                                <ul class="nav-sub-menu">
                                    <li  data-ng-repeat="sublink in alink.links" ng-style="{'text-align':component.nav.align}" ng-class="{'activeLink' :sublink.linkTo.data==currentpage.handle }" >
                                        <ssb-navigation-component-loader currentpagehandle="currentpage.handle" link="sublink"  is-sub-link="true" ></ssb-navigation-component-loader>    
                                    </li>
                                </ul>
                            </div> 
                        </li>
                        <li ng-if="cartDetails.length > 0">
                            <a href="" data-toggle="modal" data-target="#cart-checkout-modal"><i class="fa fa-shopping-cart"></i> ({{cartDetails.length || 0}})</a>
                        </li>
                    </ul>
                </div>
                <div ng-if="component.customnav" class="collapse navbar-collapse" id="bs-example-navbar-collapse-{{navbarId}}">
                    <ul ng-class="{'nav-font-size':component.nav.font.size, 'nav-font-family':component.nav.font.family, 'nav-align': component.nav.align, 'nav-mixed-case': component.nav.allowMixedCase}" class="nav navbar-nav navbar-right" data-ng-repeat="mainMenu in component.linkLists" data-ng-if=" mainMenu.handle=='head-menu'" data-edit="{ 'type': 'component' }">
                        <li data-ng-repeat="alink in mainMenu.links" ng-class="{'sub-nav-parent-menu': alink.linkTo.type == 'sub-nav','activeLink' :alink.linkTo.data==currentpage.handle }">
                            <ssb-navigation-component-loader currentpagehandle="currentpage.handle" link="alink"  is-sub-link="false" ></ssb-navigation-component-loader>
                            <div ng-if="alink.links && alink.links.length > 0"> 
                                <ul class="nav-sub-menu">
                                    <li  data-ng-repeat="sublink in alink.links" ng-style="{'text-align':component.nav.align}" ng-class="{'activeLink' :alink.linkTo.data==currentpage.handle }"> 
                                        <ssb-navigation-component-loader currentpagehandle="currentpage.handle" link="sublink"  is-sub-link="true" ></ssb-navigation-component-loader>
                                    </li>
                                </ul>
                            </div> 
                        </li>
                        <li ng-if="cartDetails.length > 0">
                            <a href="" data-toggle="modal" data-target="#cart-checkout-modal"><i class="fa fa-shopping-cart"></i> ({{cartDetails.length || 0}})</a>
                        </li>
                    </ul>
                </div> <!-- /.navbar-collapse -->
            </div> <!-- Collect the nav links, forms, and other content for toggling --> <!-- /.container-fluid -->
        </nav>
    </div>
</div>