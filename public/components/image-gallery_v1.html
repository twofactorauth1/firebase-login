<!--
* COPYRIGHT INDIGENOUS SOFTWARE, INC., LLC 2014
*
* All use or reproduction of any or all of this content must be approved.
* Please contact info@indigenous.io for approval or questions.
*
-->

<div ng-class="component.type+'-v'+component.version">
    <div class="image-gallery-title">
        <div elem ng-model="component.title"></div>
    </div>

    <div class="clearfix mb20"></div>

    <div>
        <div ng-cloak>
            <div ng-repeat="image in component.images track by $index">
                <div class="col-sm-3 col-xs-12 image-wrap {{isEditing ? 'editing' : ''}}">
                    <div class="thumbnail imgHeight single-image">
                        <a href="{{image.url}}" title="{{image.label}}" data-gallery>
                            <img class="img-responsive img-gallery-{{$index}} image-gallery" data-index="{{$index}}" ng-click="addImageFromMedia(component._id, $index, true)" alt="{{image.label}}" ng-src="{{image.url}}">
                        </a>
                        <span class="caption" ng-if="isEditing">
                            <i class="fa fa-times-circle" ng-click="deleteImage(component, $index)"></i>
                        </span>
                    </div>
                    <div ng-if="isEditing" class="delete-single-image center">
                        <button ng-click="deleteImageFromGallery(component._id, $index)" class="ng-scope btn-delete-single-image"><i class='fa fa-trash'></i></button>
                    </div>
                    <div ng-if="isEditing" class="center">
                        <a ng-click="addImageFromMedia(component._id, $index, false)" class="add-addtional"><i class='fa fa-plus'></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="blueimp-gallery" class="blueimp-gallery">
        <!-- The container for the modal slides -->
        <div class="slides">

        </div>
        <!-- Controls for the borderless lightbox -->
        <h3 class="title"></h3>
        <a class="prev">‹</a>
        <a class="next">›</a>
        <a class="close">×</a>
        <a class="play-pause"></a>
        <ol class="indicator"></ol>
        <!-- The modal dialog, which will be used to wrap the lightbox content -->
        <div class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" aria-hidden="true">&times;</button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <div class="modal-body next"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default pull-left prev">
                            <i class="glyphicon glyphicon-chevron-left"></i> Previous
                        </button>
                        <button type="button" class="btn btn-primary next">
                            Next
                            <i class="glyphicon glyphicon-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button ng-if="isEditing && component.images.length === 0" ng-click="addImageToGallery(component._id,0)" class="btn btn-primary btn-lg pull-right btn-add-image" >Add new Image</button>
</div>
