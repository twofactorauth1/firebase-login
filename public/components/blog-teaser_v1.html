<!--
* COPYRIGHT INDIGENOUS SOFTWARE, INC., LLC 2014
*
* All use or reproduction of any or all of this content must be approved.
* Please contact info@indigenous.io for approval or questions.
*
-->

<div ng-class="component.type+'-v'+component.version">
    <div class="title">
        <div class="editable" data-class="title" ng-bind-html="component.title | unsafe"></div>
    </div>

    <div class="posts">

        <div class="row" ng-repeat="blogpost in layout.teaserposts | orderBy : sortBlogFn(component):customSortOrder(component) | limitTo: 3">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-12">
                        <h4>
                            <strong>
                                <a data-ng-href="/blog/{{blogpost['post_url']}}">
                                    <div class="editable" data-class="post_title">
                                        {{blogpost.post_title}}
                                    </div>
                                </a>
                            </strong>
                        </h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-4" ng-if="blogpost.featured_image">
                        <div class="featured-image">
                            <div class="editable" data-class="featimage">
                                <img ng-src="{{blogpost.featured_image}}" class="thumbnail img-responsive" />
                            </div>
                        </div>
                    </div>
                    <div ng-class="{'col-xs-8':blogpost.featured_image, 'col-xs-12':!blogpost.featured_image}" class="col-lg-8 col-md-8 col-sm-8">
                        <p>
                            <div class="excerpt">
                                <div class="editable" data-class="post_excerpt">
                                    {{blogpost.post_excerpt}}
                                </div>
                            </div>
                        </p>
                        <p><a class="btn btn-primary" data-ng-href="/page/blog/{{blogpost['post_url']}}">Read more</a>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <p></p>
                        <p>
                            <span data-ng-if="blogpost.post_author"><i class="fa fa-user"></i> by <a href="/author/{{blogpost.post_author}}">{{blogpost.post_author}}</a></span> | <i class="fa fa-calendar"></i> {{blogpost.created.date | amDateFormat:'MM/dd/yyyy'}} <span data-ng-if="blogpost.post_tags">| <i class="fa fa-tag"></i> Tags :</span>
                            <a href="/tag/{{post_tags}}" data-ng-repeat="post_tags in blogpost.post_tags track by $index"><span class="label label-info">{{post_tags}}</span></a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <div class="clearfix mb15 visible-xs"></div>

    </div>
    <div class="clearfix mb30"></div>
    <div class="col-xs-12 mb15">
        <a class="btn btn-primary center btn-lg btn-full-blog" href="/page/blog">See Full Blog</a>
    </div>
    <div class="clearfix"></div>
</div>
